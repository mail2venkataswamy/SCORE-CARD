import { Directive, ElementRef, Inject, forwardRef, Host, HostListener, Attribute, Input, Output, ContentChild, Component, NgZone, NgModule } from '@angular/core';
import { Observable, BehaviorSubject, of, Subject } from 'rxjs';
import { skip, first, filter, takeUntil } from 'rxjs/operators';
import { DOCUMENT, CommonModule } from '@angular/common';
import { NgWormholeModule } from 'ng-wormhole';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class AngularDropdownControlDirective {
    /**
     * @param {?} dropdown
     * @param {?} element
     */
    constructor(dropdown, element) {
        this.dropdown = dropdown;
        this.element = element;
        this.isDropdownOpen = false;
    }
    /**
     * @param {?} e
     * @return {?}
     */
    onClick(e) {
        e.stopPropagation();
        if (!this.dropdown.disabled) {
            this.dropdown.toggle();
        }
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.dropdownStateSubscription = this.dropdown.isOpen$.subscribe(isOpen => (this.isDropdownOpen = isOpen));
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this.dropdownStateSubscription && this.dropdownStateSubscription.unsubscribe();
    }
}
AngularDropdownControlDirective.decorators = [
    { type: Directive, args: [{
                selector: '[ng-dropdown-control],[ngDropdownControl]',
                host: {
                    '[attr.aria-haspopup]': 'true',
                    '[attr.aria-controls]': 'dropdown.id',
                    '[attr.aria-expanded]': 'isDropdownOpen',
                    '[class.ng-dropdown-control]': 'true',
                    '[class.active]': 'isDropdownOpen'
                }
            },] }
];
AngularDropdownControlDirective.ctorParameters = () => [
    { type: AngularDropdownDirective, decorators: [{ type: Host }, { type: Inject, args: [forwardRef(() => AngularDropdownDirective),] }] },
    { type: ElementRef }
];
AngularDropdownControlDirective.propDecorators = {
    onClick: [{ type: HostListener, args: ['click', ['$event'],] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/**
 * @param {?} element
 * @param {?} callback
 * @return {?}
 */
function waitForAnimation(element, callback) {
    if (element === null) {
        return;
    }
    requestAnimationFrame(() => {
        /** @type {?} */
        const computedStyle = window.getComputedStyle(element);
        if (computedStyle.animationName !== 'none' &&
            computedStyle.animationPlayState === 'running') {
            return once(element, 'animationend', callback);
        }
        callback();
    });
}
/**
 * @param {?} element
 * @param {?} eventName
 * @param {?} listener
 * @return {?}
 */
function once(element, eventName, listener) {
    element.addEventListener(eventName, function listenOnce(e) {
        element.removeEventListener(eventName, listenOnce);
        return listener(e);
    });
}
/** @type {?} */
const closest = typeof Element != 'undefined' && Element.prototype.closest
    ? (el, s) => el.closest(s)
    : function _closest(self, s) {
        /** @type {?} */
        const matches = (((/** @type {?} */ (self))).document || self.ownerDocument).querySelectorAll(s);
        /** @type {?} */
        let i;
        /** @type {?} */
        let el = self;
        do {
            i = matches.length;
            while (--i >= 0 && matches.item(i) !== el) { }
        } while (i < 0 && (el = el.parentElement));
        return el;
    };
/**
 * @param {?} trigger
 * @param {?} dropdown
 * @param {?} __2
 * @return {?}
 */
function calculatePosition(trigger, dropdown, { horizontalPosition, verticalPosition, matchTriggerWidth, previousHorizontalPosition, previousVerticalPosition }) {
    // Collect information about all the involved DOM elements
    /** @type {?} */
    const scroll = { left: window.pageXOffset, top: window.pageYOffset };
    const { left: triggerLeft, top: triggerTop, width: triggerWidth, height: triggerHeight } = trigger.getBoundingClientRect();
    let { height: dropdownHeight, width: dropdownWidth } = dropdown.getBoundingClientRect();
    /** @type {?} */
    const viewportWidth = window.innerWidth;
    /** @type {?} */
    const style = {};
    // Calculate drop down width
    dropdownWidth = matchTriggerWidth ? triggerWidth : dropdownWidth;
    if (matchTriggerWidth) {
        style.width = dropdownWidth;
    }
    // Calculate horizontal position
    /** @type {?} */
    const triggerLeftWithScroll = triggerLeft + scroll.left;
    if (horizontalPosition === 'auto') {
        // Calculate the number of visible horizontal pixels if we were to place the
        // dropdown on the left and right
        /** @type {?} */
        const leftVisible = Math.min(viewportWidth, triggerLeft + dropdownWidth) -
            Math.max(0, triggerLeft);
        /** @type {?} */
        const rightVisible = Math.min(viewportWidth, triggerLeft + triggerWidth) -
            Math.max(0, triggerLeft + triggerWidth - dropdownWidth);
        if (dropdownWidth > leftVisible && rightVisible > leftVisible) {
            // If the drop down won't fit left-aligned, and there is more space on the
            // right than on the left, then force right-aligned
            horizontalPosition = 'right';
        }
        else if (dropdownWidth > rightVisible && leftVisible > rightVisible) {
            // If the drop down won't fit right-aligned, and there is more space on
            // the left than on the right, then force left-aligned
            horizontalPosition = 'left';
        }
        else {
            // Keep same position as previous
            horizontalPosition = previousHorizontalPosition || 'left';
        }
    }
    if (horizontalPosition === 'right') {
        style.right = viewportWidth - (triggerLeftWithScroll + triggerWidth);
    }
    else if (horizontalPosition === 'center') {
        style.left = triggerLeftWithScroll + (triggerWidth - dropdownWidth) / 2;
    }
    else {
        style.left = triggerLeftWithScroll;
    }
    // Calculate vertical position
    /** @type {?} */
    const triggerTopWithScroll = triggerTop + scroll.top;
    if (verticalPosition === 'above') {
        style.top = triggerTopWithScroll - dropdownHeight;
    }
    else if (verticalPosition === 'below') {
        style.top = triggerTopWithScroll + triggerHeight;
    }
    else {
        /** @type {?} */
        const viewportBottom = scroll.top + self.window.innerHeight;
        /** @type {?} */
        const enoughRoomBelow = triggerTopWithScroll + triggerHeight + dropdownHeight < viewportBottom;
        /** @type {?} */
        const enoughRoomAbove = triggerTop > dropdownHeight;
        if (previousVerticalPosition === 'below' &&
            !enoughRoomBelow &&
            enoughRoomAbove) {
            verticalPosition = 'above';
        }
        else if (previousVerticalPosition === 'above' &&
            !enoughRoomAbove &&
            enoughRoomBelow) {
            verticalPosition = 'below';
        }
        else if (!previousVerticalPosition) {
            verticalPosition = enoughRoomBelow ? 'below' : 'above';
        }
        else {
            verticalPosition = previousVerticalPosition;
        }
        style.top =
            triggerTopWithScroll +
                (verticalPosition === 'below' ? triggerHeight : -dropdownHeight);
    }
    return { horizontalPosition, verticalPosition, style };
}
/**
 * @param {?} trigger
 * @param {?} dropdown
 * @param {?} __2
 * @return {?}
 */
function calculateInPlacePosition(trigger, dropdown, { horizontalPosition, verticalPosition }) {
    /** @type {?} */
    let dropdownRect;
    /** @type {?} */
    const positionData = {};
    if (horizontalPosition === 'auto') {
        /** @type {?} */
        const triggerRect = trigger.getBoundingClientRect();
        dropdownRect = dropdown.getBoundingClientRect();
        /** @type {?} */
        const viewportRight = window.pageXOffset + window.innerWidth;
        positionData.horizontalPosition =
            triggerRect.left + dropdownRect.width > viewportRight ? 'right' : 'left';
    }
    if (verticalPosition === 'above') {
        positionData.verticalPosition = verticalPosition;
        dropdownRect = dropdownRect || dropdown.getBoundingClientRect();
        positionData.style = { top: -dropdownRect.height };
    }
    return positionData;
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
let _id = 1;
/**
 * @return {?}
 */
function generateDropdownId() {
    return _id++;
}
/** @type {?} */
const EmptyDropdownContentPosition = Object.freeze({
    vPosition: null,
    hPosition: null,
    top: null,
    left: null,
    bottom: null,
    right: null
});
class AngularDropdownDirective {
    /**
     * @param {?} document
     * @param {?=} id
     */
    constructor(document, id) {
        this.renderInPlace = false;
        this.control = null;
        this.previousVerticalPosition = null;
        this.previousHorizontalPosition = null;
        this.matchTriggerWidth = false;
        this._isOpen$ = new BehaviorSubject(false);
        this.isOpen$ = this._isOpen$.pipe(skip(1));
        this.position$ = new BehaviorSubject(EmptyDropdownContentPosition);
        this.calculatePosition = calculatePosition;
        this.calculateInPlacePosition = calculateInPlacePosition;
        this.disabled = false;
        this.beforeOpen = null;
        this.beforeClose = null;
        this.verticalPosition = 'auto';
        this.horizontalPosition = 'auto';
        this.onOpen = this.isOpen$.pipe(filter(open => open === true));
        this.onClose = this.isOpen$.pipe(filter(open => open === false));
        this.uniqueId = null;
        this.width = null;
        this.reposition = () => {
            if (!this._isOpen$.getValue()) {
                return null;
            }
            /** @type {?} */
            const dropdownElement = this.dropdownElement;
            if (!dropdownElement || !this.triggerElement) {
                return null;
            }
            /** @type {?} */
            const _calculatePosition = this.renderInPlace
                ? this.calculateInPlacePosition
                : this.calculatePosition;
            /** @type {?} */
            const options = {
                horizontalPosition: this.horizontalPosition,
                verticalPosition: this.verticalPosition,
                matchTriggerWidth: this.matchTriggerWidth,
                previousHorizontalPosition: this.previousHorizontalPosition,
                previousVerticalPosition: this.previousVerticalPosition
            };
            /** @type {?} */
            const positionData = _calculatePosition(this.triggerElement, dropdownElement, options);
            return this.applyReposition(this.triggerElement, dropdownElement, positionData);
        };
        this.document = document;
        this.initializeId(id);
        this.createDefaultWormholeOutlet();
    }
    /**
     * @return {?}
     */
    get dropdownId() {
        return `ng-dropdown-content-${this.uniqueId}`;
    }
    /**
     * @return {?}
     */
    get triggerElement() {
        return this.control && this.control.element.nativeElement;
    }
    /**
     * @return {?}
     */
    get dropdownElement() {
        return this.document.getElementById(this.dropdownId);
    }
    /**
     * @param {?} __0
     * @return {?}
     */
    ngOnChanges({ disabled }) {
        if (disabled &&
            disabled.firstChange === false &&
            disabled.currentValue === true &&
            disabled.previousValue !== true) {
            this.disable();
        }
    }
    /**
     * @return {?}
     */
    open() {
        if (this.disabled || this._isOpen$.getValue()) {
            return;
        }
        /** @type {?} */
        let open$ = of(true);
        if (this.beforeOpen) {
            /** @type {?} */
            const result = this.beforeOpen();
            open$ = result instanceof Observable ? result : of(result);
        }
        open$
            .pipe(first(), filter(open => open === true))
            .subscribe(() => this._isOpen$.next(true));
    }
    /**
     * @param {?=} skipFocus
     * @return {?}
     */
    close(skipFocus = false) {
        if (this.disabled || !this._isOpen$.getValue()) {
            return;
        }
        /** @type {?} */
        let close$ = of(true);
        if (this.beforeClose) {
            /** @type {?} */
            const result = this.beforeClose();
            close$ = result instanceof Observable ? result : of(result);
        }
        close$
            .pipe(first(), filter(close => close === true))
            .subscribe(() => {
            Object.assign(this, {
                hPosition: null,
                vPosition: null,
                top: null,
                right: null,
                bottom: null,
                left: null,
                width: null,
                previousVerticalPosition: null,
                previousHorizontalPosition: null
            });
            this._isOpen$.next(false);
            if (!skipFocus) {
                if (this.triggerElement instanceof HTMLElement &&
                    this.triggerElement.tabIndex > -1) {
                    this.triggerElement.focus();
                }
            }
        });
    }
    /**
     * @return {?}
     */
    toggle() {
        if (this._isOpen$.getValue()) {
            this.close();
        }
        else {
            this.open();
        }
    }
    /**
     * @return {?}
     */
    disable() {
        this.disabled = true;
        this.close();
    }
    /**
     * @return {?}
     */
    enable() {
        this.disabled = false;
    }
    /**
     * @param {?} trigger
     * @param {?} dropdown
     * @param {?} positions
     * @return {?}
     */
    applyReposition(trigger, dropdown, positions) {
        /** @type {?} */
        const changes = {
            hPosition: positions.horizontalPosition,
            vPosition: positions.verticalPosition
        };
        if (positions.style) {
            changes.top = `${positions.style.top}px`;
            // The component can be aligned from the right or from the left, but not from both.
            if (positions.style.left != null) {
                changes.left = `${positions.style.left}px`;
                changes.right = null;
            }
            else if (positions.style.right != null) {
                changes.right = `${positions.style.right}px`;
                changes.left = null;
            }
            if (positions.style.width != null) {
                changes.width = `${positions.style.width}px`;
            }
            if (this.position$.getValue().top == null) {
                // Bypass on the first reposition only to avoid flickering.
                Object.keys(positions.style).forEach(k => (dropdown.style[(/** @type {?} */ (k))] = positions.style[k]));
            }
        }
        this.position$.next(changes);
        this.previousHorizontalPosition = positions.horizontalPosition;
        this.previousVerticalPosition = positions.verticalPosition;
        return changes;
    }
    /**
     * @param {?=} id
     * @return {?}
     */
    initializeId(id) {
        if (id) {
            this.id = this.uniqueId = id;
        }
        else {
            this.uniqueId = generateDropdownId();
            this.id = `ng-dropdown-${this.uniqueId}`;
        }
    }
    /**
     * @return {?}
     */
    createDefaultWormholeOutlet() {
        if (!this.document.getElementById('ng-dropdown-outlet')) {
            /** @type {?} */
            const outlet = this.document.createElement('div');
            outlet.id = 'ng-dropdown-outlet';
            this.document.body.insertBefore(outlet, this.document.body.firstChild);
        }
    }
}
AngularDropdownDirective.decorators = [
    { type: Directive, args: [{
                selector: 'ng-dropdown,[ngDropdown],[ng-dropdown]',
                host: {
                    '[class.render-in-place]': 'renderInPlace',
                    '[class.ng-dropdown]': 'true'
                },
                exportAs: 'ngDropdown'
            },] }
];
AngularDropdownDirective.ctorParameters = () => [
    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },
    { type: String, decorators: [{ type: Attribute, args: ['id',] }] }
];
AngularDropdownDirective.propDecorators = {
    renderInPlace: [{ type: Input }],
    control: [{ type: ContentChild, args: [AngularDropdownControlDirective,] }],
    calculatePosition: [{ type: Input }],
    calculateInPlacePosition: [{ type: Input }],
    disabled: [{ type: Input }],
    beforeOpen: [{ type: Input }],
    beforeClose: [{ type: Input }],
    verticalPosition: [{ type: Input }],
    horizontalPosition: [{ type: Input }],
    onOpen: [{ type: Output, args: ['open',] }],
    onClose: [{ type: Output, args: ['close',] }],
    dropdownContent: [{ type: ContentChild, args: [forwardRef(() => AngularDropdownContentComponent),] }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/** @type {?} */
const MutationObserver = ((/** @type {?} */ (window))).MutationObserver;
class AngularDropdownContentComponent {
    /**
     * @param {?} dropdown
     * @param {?} zone
     * @param {?} document
     */
    constructor(dropdown, zone, document) {
        this.dropdown = dropdown;
        this.zone = zone;
        this.dropdownClass = '';
        this.overlay = false;
        this.hasMoved = false;
        this._animationClass = null;
        this.isTouchDevice = 'ontouchstart' in window;
        this.mutationObserver = null;
        this.destroy$ = new Subject();
        this.transitioningInClass = 'ng-dropdown-content--transitioning-in';
        this.transitionedInClass = 'ng-dropdown-content--transitioned-in';
        this.transitioningOutClass = 'ng-dropdown-content--transitioning-out';
        this.shouldOpen = false;
        this.repositionInZone = () => this.zone.run(() => this.dropdown.reposition());
        this.handleRootMouseDown = (e) => {
            const { target } = (/** @type {?} */ (e));
            if (this.hasMoved ||
                (this.dropdownElement !== null &&
                    this.dropdownElement.contains(target)) ||
                (this.triggerElement !== null && this.triggerElement.contains(target))) {
                this.hasMoved = false;
                return;
            }
            /** @type {?} */
            const closestDropdown = closest(target, 'ng-dropdown-content');
            if (closestDropdown !== null) {
                /** @type {?} */
                const trigger = this.document.querySelector(`[aria-controls=${closestDropdown.getAttribute('id')}]`);
                /** @type {?} */
                const parentDropdown = closest((/** @type {?} */ (trigger)), 'ng-dropdown-content');
                if (parentDropdown !== null &&
                    parentDropdown.getAttribute('id') === this.dropdown.dropdownId) {
                    this.hasMoved = false;
                    return;
                }
            }
            this.dropdown.close(true);
        };
        this.touchStartHandler = (e) => {
            this.document.body.addEventListener('touchmove', this.touchMoveHandler, true);
        };
        this.touchMoveHandler = (e) => {
            this.hasMoved = true;
            this.document.body.removeEventListener('touchmove', this.touchMoveHandler, true);
        };
        this.document = document;
    }
    /**
     * @return {?}
     */
    get dropdownElement() {
        return this.dropdown.dropdownElement;
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.dropdown.onOpen
            .pipe(takeUntil(this.destroy$))
            .subscribe(() => (this.shouldOpen = true));
        this.dropdown.onClose
            .pipe(takeUntil(this.destroy$))
            .subscribe(() => this.close());
    }
    /**
     * @param {?} className
     * @return {?}
     */
    set animationClass(className) {
        if (this.dropdownElement !== null) {
            if (this._animationClass && className !== this._animationClass) {
                this.dropdownElement.classList.remove(this._animationClass);
            }
            else if (className) {
                this.dropdownElement.classList.add(className);
            }
        }
        this._animationClass = className;
    }
    /**
     * @return {?}
     */
    get animationClass() {
        return this._animationClass;
    }
    /**
     * @return {?}
     */
    get triggerElement() {
        return this.dropdown.triggerElement;
    }
    /**
     * @return {?}
     */
    ngAfterViewChecked() {
        if (this.shouldOpen) {
            this.animationClass = this.transitioningInClass;
            requestAnimationFrame(() => this.open());
            this.shouldOpen = false;
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this.destroy$.next();
        this.teardownEvents();
    }
    /**
     * @return {?}
     */
    open() {
        this.document.body.addEventListener('mousedown', this.handleRootMouseDown, true);
        if (this.isTouchDevice) {
            this.document.body.addEventListener('touchstart', this.touchStartHandler, true);
            this.document.body.addEventListener('touchend', this.handleRootMouseDown, true);
        }
        /** @type {?} */
        const changes = this.dropdown.reposition();
        if (!this.dropdown.renderInPlace) {
            this.addGlobalEvents();
            this.startObservingDomMutations();
        }
        else if (changes !== null && changes.vPosition === 'above') {
            this.startObservingDomMutations();
        }
        requestAnimationFrame(() => this.animateIn());
    }
    /**
     * @return {?}
     */
    close() {
        this.teardownEvents();
        this.animateOut();
    }
    /**
     * @return {?}
     */
    animateIn() {
        waitForAnimation(this.dropdownElement, () => {
            this.animationClass = this.transitionedInClass;
        });
    }
    /**
     * @return {?}
     */
    animateOut() {
        if (this.dropdownElement === null) {
            return;
        }
        /** @type {?} */
        const parentElement = this.dropdown.renderInPlace
            ? (/** @type {?} */ ((/** @type {?} */ (this.dropdownElement.parentElement)).parentElement))
            : (/** @type {?} */ (this.dropdownElement.parentElement));
        /** @type {?} */
        const clone = (/** @type {?} */ (this.dropdownElement.cloneNode(true)));
        clone.id = `${this.dropdownElement.id}--clone`;
        clone.classList.remove(this.transitionedInClass);
        clone.classList.remove(this.transitioningInClass);
        clone.classList.add(this.transitioningOutClass);
        parentElement.appendChild(clone);
        this.animationClass = this.transitioningInClass;
        waitForAnimation(clone, () => parentElement.removeChild(clone));
    }
    /**
     * @return {?}
     */
    startObservingDomMutations() {
        if (MutationObserver !== undefined) {
            this.mutationObserver = new MutationObserver((mutations) => {
                if (mutations[0].addedNodes.length ||
                    mutations[0].removedNodes.length) {
                    this.repositionInZone();
                }
            });
            (/** @type {?} */ (this.mutationObserver)).observe((/** @type {?} */ (this.dropdownElement)), {
                childList: true,
                subtree: true
            });
        }
        else {
            (/** @type {?} */ (this.dropdownElement)).addEventListener('DOMNodeInserted', this.repositionInZone, false);
            (/** @type {?} */ (this.dropdownElement)).addEventListener('DOMNodeRemoved', this.repositionInZone, false);
        }
    }
    /**
     * @return {?}
     */
    stopObservingDomMutations() {
        if (MutationObserver) {
            if (this.mutationObserver) {
                this.mutationObserver.disconnect();
                this.mutationObserver = null;
            }
        }
        else {
            if (this.dropdownElement !== null) {
                this.dropdownElement.removeEventListener('DOMNodeInserted', this.repositionInZone);
                this.dropdownElement.removeEventListener('DOMNodeRemoved', this.repositionInZone);
            }
        }
    }
    /**
     * @return {?}
     */
    addGlobalEvents() {
        window.addEventListener('scroll', this.repositionInZone);
        window.addEventListener('resize', this.repositionInZone);
        window.addEventListener('orientationchange', this.repositionInZone);
    }
    /**
     * @return {?}
     */
    removeGlobalEvents() {
        window.removeEventListener('scroll', this.repositionInZone);
        window.removeEventListener('resize', this.repositionInZone);
        window.removeEventListener('orientationchange', this.repositionInZone);
    }
    /**
     * @return {?}
     */
    teardownEvents() {
        this.removeGlobalEvents();
        this.stopObservingDomMutations();
        this.document.body.removeEventListener('mousedown', this.handleRootMouseDown, true);
        if (this.isTouchDevice) {
            this.document.body.removeEventListener('touchstart', this.touchStartHandler, true);
            this.document.body.removeEventListener('touchend', this.handleRootMouseDown, true);
        }
    }
}
AngularDropdownContentComponent.decorators = [
    { type: Component, args: [{
                selector: 'ng-dropdown-content,[ng-dropdown-content],[ngDropdownContent]',
                template: "<ng-container *ngIf=\"dropdown.isOpen$ | async as isOpen\">\n  <ng-container *ngWormhole=\"'#ng-dropdown-outlet'; renderInPlace: dropdown.renderInPlace\">\n    <div *ngIf=\"overlay && isOpen\" class=\"ng-dropdown-overlay\"></div>\n    <div [id]=\"dropdown.dropdownId\"\n        class=\"ng-dropdown-content {{dropdownClass}}\"\n        [style.top]=\"(dropdown.position$ | async)?.top\"\n        [style.right]=\"(dropdown.position$ | async)?.right\"\n        [style.bottom]=\"(dropdown.position$ | async)?.bottom\"\n        [style.left]=\"(dropdown.position$ | async)?.left\"\n        [class.render-in-place]=\"dropdown.renderInPlace\"\n        [class.ng-dropdown-content--above]=\"(dropdown.position$ | async)?.vPosition === 'above'\"\n        [class.ng-dropdown-content--below]=\"(dropdown.position$ | async)?.vPosition === 'below'\"\n        [class.ng-dropdown-content--right]=\"(dropdown.position$ | async)?.hPosition === 'right'\"\n        [class.ng-dropdown-content--center]=\"(dropdown.position$ | async)?.hPosition === 'center'\"\n        [class.ng-dropdown-content--left]=\"(dropdown.position$ | async)?.hPosition === 'left'\">\n      <ng-content></ng-content>\n    </div>\n  </ng-container>\n  <div *ngIf=\"!isOpen\" [id]=\"dropdown.dropdownId\" class=\"ng-dropdown-placeholder\"></div>\n</ng-container>\n",
                host: {
                    '[class.render-in-place]': 'dropdown.renderInPlace'
                },
                styles: [":host{display:none}:host.render-in-place{display:block;position:absolute}"]
            }] }
];
AngularDropdownContentComponent.ctorParameters = () => [
    { type: AngularDropdownDirective, decorators: [{ type: Host }, { type: Inject, args: [forwardRef(() => AngularDropdownDirective),] }] },
    { type: NgZone },
    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }
];
AngularDropdownContentComponent.propDecorators = {
    dropdownClass: [{ type: Input }],
    overlay: [{ type: Input }],
    transitioningInClass: [{ type: Input }],
    transitionedInClass: [{ type: Input }],
    transitioningOutClass: [{ type: Input }]
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
class AngularDropdownModule {
}
AngularDropdownModule.decorators = [
    { type: NgModule, args: [{
                imports: [CommonModule, NgWormholeModule],
                declarations: [
                    AngularDropdownDirective,
                    AngularDropdownControlDirective,
                    AngularDropdownContentComponent
                ],
                exports: [
                    AngularDropdownDirective,
                    AngularDropdownControlDirective,
                    AngularDropdownContentComponent
                ]
            },] }
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */

export { AngularDropdownContentComponent, AngularDropdownControlDirective, AngularDropdownDirective, AngularDropdownModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhci1kcm9wZG93bi5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vYW5ndWxhci1kcm9wZG93bi9saWIvYW5ndWxhci1kcm9wZG93bi1jb250cm9sLmRpcmVjdGl2ZS50cyIsIm5nOi8vYW5ndWxhci1kcm9wZG93bi9saWIvdXRpbHMudHMiLCJuZzovL2FuZ3VsYXItZHJvcGRvd24vbGliL2FuZ3VsYXItZHJvcGRvd24uZGlyZWN0aXZlLnRzIiwibmc6Ly9hbmd1bGFyLWRyb3Bkb3duL2xpYi9hbmd1bGFyLWRyb3Bkb3duLWNvbnRlbnQuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyLWRyb3Bkb3duL2xpYi9hbmd1bGFyLWRyb3Bkb3duLm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBEaXJlY3RpdmUsXG4gIEVsZW1lbnRSZWYsXG4gIEluamVjdCxcbiAgZm9yd2FyZFJlZixcbiAgSW5wdXQsXG4gIEhvc3QsXG4gIEhvc3RMaXN0ZW5lclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgQW5ndWxhckRyb3Bkb3duRGlyZWN0aXZlIH1cbiAgZnJvbSAnLi9hbmd1bGFyLWRyb3Bkb3duLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW25nLWRyb3Bkb3duLWNvbnRyb2xdLFtuZ0Ryb3Bkb3duQ29udHJvbF0nLFxuICBob3N0OiB7XG4gICAgJ1thdHRyLmFyaWEtaGFzcG9wdXBdJzogJ3RydWUnLFxuICAgICdbYXR0ci5hcmlhLWNvbnRyb2xzXSc6ICdkcm9wZG93bi5pZCcsXG4gICAgJ1thdHRyLmFyaWEtZXhwYW5kZWRdJzogJ2lzRHJvcGRvd25PcGVuJyxcbiAgICAnW2NsYXNzLm5nLWRyb3Bkb3duLWNvbnRyb2xdJzogJ3RydWUnLFxuICAgICdbY2xhc3MuYWN0aXZlXSc6ICdpc0Ryb3Bkb3duT3BlbidcbiAgfVxufSlcbmV4cG9ydCBjbGFzcyBBbmd1bGFyRHJvcGRvd25Db250cm9sRGlyZWN0aXZlIHtcbiAgaXNEcm9wZG93bk9wZW46IGJvb2xlYW4gPSBmYWxzZTtcbiAgZHJvcGRvd25TdGF0ZVN1YnNjcmlwdGlvbj86IFN1YnNjcmlwdGlvbjtcblxuICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsgJyRldmVudCcgXSlcbiAgb25DbGljayhlOiBFdmVudCk6IHZvaWQge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICBpZiAoIXRoaXMuZHJvcGRvd24uZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuZHJvcGRvd24udG9nZ2xlKCk7XG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBASG9zdCgpXG4gICAgICBASW5qZWN0KGZvcndhcmRSZWYoKCkgPT4gQW5ndWxhckRyb3Bkb3duRGlyZWN0aXZlKSlcbiAgICAgIHB1YmxpYyBkcm9wZG93bjogQW5ndWxhckRyb3Bkb3duRGlyZWN0aXZlLFxuICAgICAgcHVibGljIGVsZW1lbnQ6IEVsZW1lbnRSZWYpIHtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuZHJvcGRvd25TdGF0ZVN1YnNjcmlwdGlvbiA9IHRoaXMuZHJvcGRvd24uaXNPcGVuJC5zdWJzY3JpYmUoXG4gICAgICBpc09wZW4gPT4gKHRoaXMuaXNEcm9wZG93bk9wZW4gPSBpc09wZW4pXG4gICAgKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCl7XG4gICAgdGhpcy5kcm9wZG93blN0YXRlU3Vic2NyaXB0aW9uICYmIHRoaXMuZHJvcGRvd25TdGF0ZVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gd2FpdEZvckFuaW1hdGlvbihcbiAgZWxlbWVudDogRWxlbWVudCB8IG51bGwsXG4gIGNhbGxiYWNrOiAoZT86IEV2ZW50KSA9PiBhbnlcbik6IHZvaWQge1xuICBpZiAoZWxlbWVudCA9PT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuXG4gICAgaWYgKFxuICAgICAgY29tcHV0ZWRTdHlsZS5hbmltYXRpb25OYW1lICE9PSAnbm9uZScgJiZcbiAgICAgIGNvbXB1dGVkU3R5bGUuYW5pbWF0aW9uUGxheVN0YXRlID09PSAncnVubmluZydcbiAgICApIHtcbiAgICAgIHJldHVybiBvbmNlKGVsZW1lbnQsICdhbmltYXRpb25lbmQnLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uY2UoXG4gIGVsZW1lbnQ6IE5vZGUsXG4gIGV2ZW50TmFtZTogc3RyaW5nLFxuICBsaXN0ZW5lcjogKGU6IEV2ZW50KSA9PiBhbnlcbik6IHZvaWQge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jdGlvbiBsaXN0ZW5PbmNlKGUpIHtcbiAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBsaXN0ZW5PbmNlKTtcblxuICAgIHJldHVybiBsaXN0ZW5lcihlKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBjb25zdCBjbG9zZXN0OiAoZWxlbWVudDogRWxlbWVudCwgc2VsZWN0b3I6IHN0cmluZykgPT4gRWxlbWVudCB8IG51bGwgPVxuICB0eXBlb2YgRWxlbWVudCAhPSAndW5kZWZpbmVkJyAmJiBFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0XG4gICAgPyAoZWwsIHMpID0+IGVsLmNsb3Nlc3QocylcbiAgICA6IGZ1bmN0aW9uIF9jbG9zZXN0KHNlbGY6IEVsZW1lbnQsIHM6IHN0cmluZykge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gKFxuICAgICAgICAgIChzZWxmIGFzIGFueSkuZG9jdW1lbnQgfHwgc2VsZi5vd25lckRvY3VtZW50XG4gICAgICAgICkucXVlcnlTZWxlY3RvckFsbChzKTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIGxldCBlbDogRWxlbWVudCB8IG51bGwgPSBzZWxmO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IGVsKSB7fVxuICAgICAgICB9IHdoaWxlIChpIDwgMCAmJiAoZWwgPSBlbC5wYXJlbnRFbGVtZW50KSk7XG4gICAgICAgIHJldHVybiBlbDtcbiAgICAgIH07XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVQb3NpdGlvbihcbiAgdHJpZ2dlcjogRWxlbWVudCxcbiAgZHJvcGRvd246IEVsZW1lbnQsXG4gIHtcbiAgICBob3Jpem9udGFsUG9zaXRpb24sXG4gICAgdmVydGljYWxQb3NpdGlvbixcbiAgICBtYXRjaFRyaWdnZXJXaWR0aCxcbiAgICBwcmV2aW91c0hvcml6b250YWxQb3NpdGlvbixcbiAgICBwcmV2aW91c1ZlcnRpY2FsUG9zaXRpb25cbiAgfTogYW55XG4pOiBhbnkge1xuICAvLyBDb2xsZWN0IGluZm9ybWF0aW9uIGFib3V0IGFsbCB0aGUgaW52b2x2ZWQgRE9NIGVsZW1lbnRzXG4gIGNvbnN0IHNjcm9sbCA9IHsgbGVmdDogd2luZG93LnBhZ2VYT2Zmc2V0LCB0b3A6IHdpbmRvdy5wYWdlWU9mZnNldCB9O1xuICBjb25zdCB7XG4gICAgbGVmdDogdHJpZ2dlckxlZnQsXG4gICAgdG9wOiB0cmlnZ2VyVG9wLFxuICAgIHdpZHRoOiB0cmlnZ2VyV2lkdGgsXG4gICAgaGVpZ2h0OiB0cmlnZ2VySGVpZ2h0XG4gIH0gPSB0cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBsZXQge1xuICAgIGhlaWdodDogZHJvcGRvd25IZWlnaHQsXG4gICAgd2lkdGg6IGRyb3Bkb3duV2lkdGhcbiAgfSA9IGRyb3Bkb3duLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCB2aWV3cG9ydFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gIGNvbnN0IHN0eWxlOiBhbnkgPSB7fTtcblxuICAvLyBDYWxjdWxhdGUgZHJvcCBkb3duIHdpZHRoXG4gIGRyb3Bkb3duV2lkdGggPSBtYXRjaFRyaWdnZXJXaWR0aCA/IHRyaWdnZXJXaWR0aCA6IGRyb3Bkb3duV2lkdGg7XG4gIGlmIChtYXRjaFRyaWdnZXJXaWR0aCkge1xuICAgIHN0eWxlLndpZHRoID0gZHJvcGRvd25XaWR0aDtcbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBob3Jpem9udGFsIHBvc2l0aW9uXG4gIGNvbnN0IHRyaWdnZXJMZWZ0V2l0aFNjcm9sbCA9IHRyaWdnZXJMZWZ0ICsgc2Nyb2xsLmxlZnQ7XG4gIGlmIChob3Jpem9udGFsUG9zaXRpb24gPT09ICdhdXRvJykge1xuICAgIC8vIENhbGN1bGF0ZSB0aGUgbnVtYmVyIG9mIHZpc2libGUgaG9yaXpvbnRhbCBwaXhlbHMgaWYgd2Ugd2VyZSB0byBwbGFjZSB0aGVcbiAgICAvLyBkcm9wZG93biBvbiB0aGUgbGVmdCBhbmQgcmlnaHRcbiAgICBjb25zdCBsZWZ0VmlzaWJsZSA9XG4gICAgICBNYXRoLm1pbih2aWV3cG9ydFdpZHRoLCB0cmlnZ2VyTGVmdCArIGRyb3Bkb3duV2lkdGgpIC1cbiAgICAgIE1hdGgubWF4KDAsIHRyaWdnZXJMZWZ0KTtcbiAgICBjb25zdCByaWdodFZpc2libGUgPVxuICAgICAgTWF0aC5taW4odmlld3BvcnRXaWR0aCwgdHJpZ2dlckxlZnQgKyB0cmlnZ2VyV2lkdGgpIC1cbiAgICAgIE1hdGgubWF4KDAsIHRyaWdnZXJMZWZ0ICsgdHJpZ2dlcldpZHRoIC0gZHJvcGRvd25XaWR0aCk7XG5cbiAgICBpZiAoZHJvcGRvd25XaWR0aCA+IGxlZnRWaXNpYmxlICYmIHJpZ2h0VmlzaWJsZSA+IGxlZnRWaXNpYmxlKSB7XG4gICAgICAvLyBJZiB0aGUgZHJvcCBkb3duIHdvbid0IGZpdCBsZWZ0LWFsaWduZWQsIGFuZCB0aGVyZSBpcyBtb3JlIHNwYWNlIG9uIHRoZVxuICAgICAgLy8gcmlnaHQgdGhhbiBvbiB0aGUgbGVmdCwgdGhlbiBmb3JjZSByaWdodC1hbGlnbmVkXG4gICAgICBob3Jpem9udGFsUG9zaXRpb24gPSAncmlnaHQnO1xuICAgIH0gZWxzZSBpZiAoZHJvcGRvd25XaWR0aCA+IHJpZ2h0VmlzaWJsZSAmJiBsZWZ0VmlzaWJsZSA+IHJpZ2h0VmlzaWJsZSkge1xuICAgICAgLy8gSWYgdGhlIGRyb3AgZG93biB3b24ndCBmaXQgcmlnaHQtYWxpZ25lZCwgYW5kIHRoZXJlIGlzIG1vcmUgc3BhY2Ugb25cbiAgICAgIC8vIHRoZSBsZWZ0IHRoYW4gb24gdGhlIHJpZ2h0LCB0aGVuIGZvcmNlIGxlZnQtYWxpZ25lZFxuICAgICAgaG9yaXpvbnRhbFBvc2l0aW9uID0gJ2xlZnQnO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBLZWVwIHNhbWUgcG9zaXRpb24gYXMgcHJldmlvdXNcbiAgICAgIGhvcml6b250YWxQb3NpdGlvbiA9IHByZXZpb3VzSG9yaXpvbnRhbFBvc2l0aW9uIHx8ICdsZWZ0JztcbiAgICB9XG4gIH1cbiAgaWYgKGhvcml6b250YWxQb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgIHN0eWxlLnJpZ2h0ID0gdmlld3BvcnRXaWR0aCAtICh0cmlnZ2VyTGVmdFdpdGhTY3JvbGwgKyB0cmlnZ2VyV2lkdGgpO1xuICB9IGVsc2UgaWYgKGhvcml6b250YWxQb3NpdGlvbiA9PT0gJ2NlbnRlcicpIHtcbiAgICBzdHlsZS5sZWZ0ID0gdHJpZ2dlckxlZnRXaXRoU2Nyb2xsICsgKHRyaWdnZXJXaWR0aCAtIGRyb3Bkb3duV2lkdGgpIC8gMjtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5sZWZ0ID0gdHJpZ2dlckxlZnRXaXRoU2Nyb2xsO1xuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIHZlcnRpY2FsIHBvc2l0aW9uXG4gIGNvbnN0IHRyaWdnZXJUb3BXaXRoU2Nyb2xsID0gdHJpZ2dlclRvcCArIHNjcm9sbC50b3A7XG4gIGlmICh2ZXJ0aWNhbFBvc2l0aW9uID09PSAnYWJvdmUnKSB7XG4gICAgc3R5bGUudG9wID0gdHJpZ2dlclRvcFdpdGhTY3JvbGwgLSBkcm9wZG93bkhlaWdodDtcbiAgfSBlbHNlIGlmICh2ZXJ0aWNhbFBvc2l0aW9uID09PSAnYmVsb3cnKSB7XG4gICAgc3R5bGUudG9wID0gdHJpZ2dlclRvcFdpdGhTY3JvbGwgKyB0cmlnZ2VySGVpZ2h0O1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IHZpZXdwb3J0Qm90dG9tID0gc2Nyb2xsLnRvcCArIHNlbGYud2luZG93LmlubmVySGVpZ2h0O1xuICAgIGNvbnN0IGVub3VnaFJvb21CZWxvdyA9XG4gICAgICB0cmlnZ2VyVG9wV2l0aFNjcm9sbCArIHRyaWdnZXJIZWlnaHQgKyBkcm9wZG93bkhlaWdodCA8IHZpZXdwb3J0Qm90dG9tO1xuICAgIGNvbnN0IGVub3VnaFJvb21BYm92ZSA9IHRyaWdnZXJUb3AgPiBkcm9wZG93bkhlaWdodDtcblxuICAgIGlmIChcbiAgICAgIHByZXZpb3VzVmVydGljYWxQb3NpdGlvbiA9PT0gJ2JlbG93JyAmJlxuICAgICAgIWVub3VnaFJvb21CZWxvdyAmJlxuICAgICAgZW5vdWdoUm9vbUFib3ZlXG4gICAgKSB7XG4gICAgICB2ZXJ0aWNhbFBvc2l0aW9uID0gJ2Fib3ZlJztcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgcHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uID09PSAnYWJvdmUnICYmXG4gICAgICAhZW5vdWdoUm9vbUFib3ZlICYmXG4gICAgICBlbm91Z2hSb29tQmVsb3dcbiAgICApIHtcbiAgICAgIHZlcnRpY2FsUG9zaXRpb24gPSAnYmVsb3cnO1xuICAgIH0gZWxzZSBpZiAoIXByZXZpb3VzVmVydGljYWxQb3NpdGlvbikge1xuICAgICAgdmVydGljYWxQb3NpdGlvbiA9IGVub3VnaFJvb21CZWxvdyA/ICdiZWxvdycgOiAnYWJvdmUnO1xuICAgIH0gZWxzZSB7XG4gICAgICB2ZXJ0aWNhbFBvc2l0aW9uID0gcHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uO1xuICAgIH1cbiAgICBzdHlsZS50b3AgPVxuICAgICAgdHJpZ2dlclRvcFdpdGhTY3JvbGwgK1xuICAgICAgKHZlcnRpY2FsUG9zaXRpb24gPT09ICdiZWxvdycgPyB0cmlnZ2VySGVpZ2h0IDogLWRyb3Bkb3duSGVpZ2h0KTtcbiAgfVxuXG4gIHJldHVybiB7IGhvcml6b250YWxQb3NpdGlvbiwgdmVydGljYWxQb3NpdGlvbiwgc3R5bGUgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUluUGxhY2VQb3NpdGlvbihcbiAgdHJpZ2dlcjogRWxlbWVudCxcbiAgZHJvcGRvd246IEVsZW1lbnQsXG4gIHsgaG9yaXpvbnRhbFBvc2l0aW9uLCB2ZXJ0aWNhbFBvc2l0aW9uIH06IGFueVxuKSB7XG4gIGxldCBkcm9wZG93blJlY3Q7XG4gIGNvbnN0IHBvc2l0aW9uRGF0YTogYW55ID0ge307XG5cbiAgaWYgKGhvcml6b250YWxQb3NpdGlvbiA9PT0gJ2F1dG8nKSB7XG4gICAgY29uc3QgdHJpZ2dlclJlY3QgPSB0cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGRyb3Bkb3duUmVjdCA9IGRyb3Bkb3duLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGNvbnN0IHZpZXdwb3J0UmlnaHQgPSB3aW5kb3cucGFnZVhPZmZzZXQgKyB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBwb3NpdGlvbkRhdGEuaG9yaXpvbnRhbFBvc2l0aW9uID1cbiAgICAgIHRyaWdnZXJSZWN0LmxlZnQgKyBkcm9wZG93blJlY3Qud2lkdGggPiB2aWV3cG9ydFJpZ2h0ID8gJ3JpZ2h0JyA6ICdsZWZ0JztcbiAgfVxuICBpZiAodmVydGljYWxQb3NpdGlvbiA9PT0gJ2Fib3ZlJykge1xuICAgIHBvc2l0aW9uRGF0YS52ZXJ0aWNhbFBvc2l0aW9uID0gdmVydGljYWxQb3NpdGlvbjtcbiAgICBkcm9wZG93blJlY3QgPSBkcm9wZG93blJlY3QgfHwgZHJvcGRvd24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcG9zaXRpb25EYXRhLnN0eWxlID0geyB0b3A6IC1kcm9wZG93blJlY3QuaGVpZ2h0IH07XG4gIH1cbiAgcmV0dXJuIHBvc2l0aW9uRGF0YTtcbn1cbiIsImltcG9ydCB7IE9ic2VydmFibGUsIEJlaGF2aW9yU3ViamVjdCwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHNraXAsIGZpcnN0LCBmaWx0ZXIgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgRGlyZWN0aXZlLFxuICBBdHRyaWJ1dGUsXG4gIEluamVjdCxcbiAgSW5wdXQsXG4gIE91dHB1dCxcbiAgRWxlbWVudFJlZixcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgT25DaGFuZ2VzLFxuICBDb250ZW50Q2hpbGQsXG4gIFNpbXBsZUNoYW5nZXMsXG4gIEV2ZW50RW1pdHRlcixcbiAgUXVlcnlMaXN0LFxuICBWaWV3Q29udGFpbmVyUmVmLFxuICBmb3J3YXJkUmVmXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5cbmltcG9ydCB7IEFuZ3VsYXJEcm9wZG93bkNvbnRyb2xEaXJlY3RpdmUgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24tY29udHJvbC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgQW5ndWxhckRyb3Bkb3duQ29udGVudENvbXBvbmVudCB9IGZyb20gJy4vYW5ndWxhci1kcm9wZG93bi1jb250ZW50LmNvbXBvbmVudCc7XG5cbmltcG9ydCB7IGNhbGN1bGF0ZVBvc2l0aW9uLCBjYWxjdWxhdGVJblBsYWNlUG9zaXRpb24gfSBmcm9tICcuL3V0aWxzJztcblxuZXhwb3J0IGludGVyZmFjZSBBbmd1bGFyRHJvcGRvd25Qb3NpdGlvbkNoYW5nZXMge1xuICB2UG9zaXRpb246ICdhYm92ZScgfCAnYmVsb3cnO1xuICBoUG9zaXRpb246ICdyaWdodCcgfCAnY2VudGVyJyB8ICdsZWZ0Jztcbn1cblxubGV0IF9pZCA9IDE7XG5mdW5jdGlvbiBnZW5lcmF0ZURyb3Bkb3duSWQoKSB7XG4gIHJldHVybiBfaWQrKztcbn1cblxuZXhwb3J0IHR5cGUgVmVydGljYWxQb3NpdGlvbiA9ICdhdXRvJyB8ICdhYm92ZScgfCAnYmVsb3cnO1xuZXhwb3J0IHR5cGUgSG9yaXpvbnRhbFBvc2l0aW9uID0gJ2F1dG8nIHwgJ3JpZ2h0JyB8ICdjZW50ZXInIHwgJ2xlZnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIERyb3Bkb3duQ29udGVudFBvc2l0aW9uIHtcbiAgcmVhZG9ubHkgaFBvc2l0aW9uOiBIb3Jpem9udGFsUG9zaXRpb24gfCBudWxsO1xuICByZWFkb25seSB2UG9zaXRpb246IFZlcnRpY2FsUG9zaXRpb24gfCBudWxsO1xuICByZWFkb25seSB0b3A6IHN0cmluZyB8IG51bGw7XG4gIHJlYWRvbmx5IGxlZnQ6IHN0cmluZyB8IG51bGw7XG4gIHJlYWRvbmx5IGJvdHRvbTogc3RyaW5nIHwgbnVsbDtcbiAgcmVhZG9ubHkgcmlnaHQ6IHN0cmluZyB8IG51bGw7XG59XG5cbmNvbnN0IEVtcHR5RHJvcGRvd25Db250ZW50UG9zaXRpb24gPSBPYmplY3QuZnJlZXplKHtcbiAgdlBvc2l0aW9uOiBudWxsLFxuICBoUG9zaXRpb246IG51bGwsXG4gIHRvcDogbnVsbCxcbiAgbGVmdDogbnVsbCxcbiAgYm90dG9tOiBudWxsLFxuICByaWdodDogbnVsbFxufSk7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ25nLWRyb3Bkb3duLFtuZ0Ryb3Bkb3duXSxbbmctZHJvcGRvd25dJyxcbiAgaG9zdDoge1xuICAgICdbY2xhc3MucmVuZGVyLWluLXBsYWNlXSc6ICdyZW5kZXJJblBsYWNlJyxcbiAgICAnW2NsYXNzLm5nLWRyb3Bkb3duXSc6ICd0cnVlJ1xuICB9LFxuICBleHBvcnRBczogJ25nRHJvcGRvd24nXG59KVxuZXhwb3J0IGNsYXNzIEFuZ3VsYXJEcm9wZG93bkRpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG4gIGlkPzogc3RyaW5nO1xuXG4gIEBJbnB1dCgpXG4gIHJlbmRlckluUGxhY2UgPSBmYWxzZTtcblxuICBAQ29udGVudENoaWxkKEFuZ3VsYXJEcm9wZG93bkNvbnRyb2xEaXJlY3RpdmUpXG4gIGNvbnRyb2w6IEFuZ3VsYXJEcm9wZG93bkNvbnRyb2xEaXJlY3RpdmUgfCBudWxsID0gbnVsbDtcblxuICBwcmV2aW91c1ZlcnRpY2FsUG9zaXRpb246IFZlcnRpY2FsUG9zaXRpb24gfCBudWxsID0gbnVsbDtcbiAgcHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb246IEhvcml6b250YWxQb3NpdGlvbiB8IG51bGwgPSBudWxsO1xuICBtYXRjaFRyaWdnZXJXaWR0aCA9IGZhbHNlO1xuXG4gIHByaXZhdGUgX2lzT3BlbiQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KGZhbHNlKTtcbiAgaXNPcGVuJCA9IHRoaXMuX2lzT3BlbiQucGlwZShza2lwKDEpKTtcblxuICBwb3NpdGlvbiQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFJlYWRvbmx5PERyb3Bkb3duQ29udGVudFBvc2l0aW9uPj4oXG4gICAgRW1wdHlEcm9wZG93bkNvbnRlbnRQb3NpdGlvblxuICApO1xuXG4gIGdldCBkcm9wZG93bklkKCkge1xuICAgIHJldHVybiBgbmctZHJvcGRvd24tY29udGVudC0ke3RoaXMudW5pcXVlSWR9YDtcbiAgfVxuXG4gIEBJbnB1dCgpXG4gIGNhbGN1bGF0ZVBvc2l0aW9uOiBGdW5jdGlvbiA9IGNhbGN1bGF0ZVBvc2l0aW9uO1xuICBASW5wdXQoKVxuICBjYWxjdWxhdGVJblBsYWNlUG9zaXRpb246IEZ1bmN0aW9uID0gY2FsY3VsYXRlSW5QbGFjZVBvc2l0aW9uO1xuXG4gIEBJbnB1dCgpXG4gIGRpc2FibGVkID0gZmFsc2U7XG5cbiAgQElucHV0KClcbiAgYmVmb3JlT3BlbjogKCgpID0+IGJvb2xlYW4gfCBPYnNlcnZhYmxlPGJvb2xlYW4+KSB8IG51bGwgPSBudWxsO1xuXG4gIEBJbnB1dCgpXG4gIGJlZm9yZUNsb3NlOiAoKCkgPT4gYm9vbGVhbiB8IE9ic2VydmFibGU8Ym9vbGVhbj4pIHwgbnVsbCA9IG51bGw7XG5cbiAgQElucHV0KClcbiAgcHVibGljIHZlcnRpY2FsUG9zaXRpb246IFZlcnRpY2FsUG9zaXRpb24gPSAnYXV0byc7XG4gIEBJbnB1dCgpXG4gIHB1YmxpYyBob3Jpem9udGFsUG9zaXRpb246IEhvcml6b250YWxQb3NpdGlvbiA9ICdhdXRvJztcblxuICBAT3V0cHV0KCdvcGVuJylcbiAgb25PcGVuID0gdGhpcy5pc09wZW4kLnBpcGUoZmlsdGVyKG9wZW4gPT4gb3BlbiA9PT0gdHJ1ZSkpO1xuXG4gIEBPdXRwdXQoJ2Nsb3NlJylcbiAgb25DbG9zZSA9IHRoaXMuaXNPcGVuJC5waXBlKGZpbHRlcihvcGVuID0+IG9wZW4gPT09IGZhbHNlKSk7XG5cbiAgZ2V0IHRyaWdnZXJFbGVtZW50KCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuY29udHJvbCAmJiB0aGlzLmNvbnRyb2wuZWxlbWVudC5uYXRpdmVFbGVtZW50O1xuICB9XG5cbiAgZ2V0IGRyb3Bkb3duRWxlbWVudCgpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZHJvcGRvd25JZCk7XG4gIH1cblxuICBAQ29udGVudENoaWxkKGZvcndhcmRSZWYoKCkgPT4gQW5ndWxhckRyb3Bkb3duQ29udGVudENvbXBvbmVudCkpXG4gIHByaXZhdGUgZHJvcGRvd25Db250ZW50PzogQW5ndWxhckRyb3Bkb3duQ29udGVudENvbXBvbmVudDtcblxuICBwcml2YXRlIHVuaXF1ZUlkOiBudW1iZXIgfCBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgcHJpdmF0ZSB3aWR0aDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgZG9jdW1lbnQ6IERvY3VtZW50O1xuXG4gIGNvbnN0cnVjdG9yKEBJbmplY3QoRE9DVU1FTlQpIGRvY3VtZW50OiBhbnksIEBBdHRyaWJ1dGUoJ2lkJykgaWQ/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgdGhpcy5pbml0aWFsaXplSWQoaWQpO1xuICAgIHRoaXMuY3JlYXRlRGVmYXVsdFdvcm1ob2xlT3V0bGV0KCk7XG4gIH1cblxuICBuZ09uQ2hhbmdlcyh7IGRpc2FibGVkIH06IFNpbXBsZUNoYW5nZXMpOiB2b2lkIHtcbiAgICBpZiAoXG4gICAgICBkaXNhYmxlZCAmJlxuICAgICAgZGlzYWJsZWQuZmlyc3RDaGFuZ2UgPT09IGZhbHNlICYmXG4gICAgICBkaXNhYmxlZC5jdXJyZW50VmFsdWUgPT09IHRydWUgJiZcbiAgICAgIGRpc2FibGVkLnByZXZpb3VzVmFsdWUgIT09IHRydWVcbiAgICApIHtcbiAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgIH1cbiAgfVxuXG4gIG9wZW4oKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgfHwgdGhpcy5faXNPcGVuJC5nZXRWYWx1ZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IG9wZW4kID0gb2YodHJ1ZSk7XG5cbiAgICBpZiAodGhpcy5iZWZvcmVPcGVuKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmJlZm9yZU9wZW4oKTtcbiAgICAgIG9wZW4kID0gcmVzdWx0IGluc3RhbmNlb2YgT2JzZXJ2YWJsZSA/IHJlc3VsdCA6IG9mKHJlc3VsdCk7XG4gICAgfVxuXG4gICAgb3BlbiRcbiAgICAgIC5waXBlKFxuICAgICAgICBmaXJzdCgpLFxuICAgICAgICBmaWx0ZXIob3BlbiA9PiBvcGVuID09PSB0cnVlKVxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgoKSA9PiB0aGlzLl9pc09wZW4kLm5leHQodHJ1ZSkpO1xuICB9XG5cbiAgY2xvc2Uoc2tpcEZvY3VzID0gZmFsc2UpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5kaXNhYmxlZCB8fCAhdGhpcy5faXNPcGVuJC5nZXRWYWx1ZSgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGNsb3NlJCA9IG9mKHRydWUpO1xuXG4gICAgaWYgKHRoaXMuYmVmb3JlQ2xvc2UpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYmVmb3JlQ2xvc2UoKTtcbiAgICAgIGNsb3NlJCA9IHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUgPyByZXN1bHQgOiBvZihyZXN1bHQpO1xuICAgIH1cblxuICAgIGNsb3NlJFxuICAgICAgLnBpcGUoXG4gICAgICAgIGZpcnN0KCksXG4gICAgICAgIGZpbHRlcihjbG9zZSA9PiBjbG9zZSA9PT0gdHJ1ZSlcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHtcbiAgICAgICAgICBoUG9zaXRpb246IG51bGwsXG4gICAgICAgICAgdlBvc2l0aW9uOiBudWxsLFxuICAgICAgICAgIHRvcDogbnVsbCxcbiAgICAgICAgICByaWdodDogbnVsbCxcbiAgICAgICAgICBib3R0b206IG51bGwsXG4gICAgICAgICAgbGVmdDogbnVsbCxcbiAgICAgICAgICB3aWR0aDogbnVsbCxcbiAgICAgICAgICBwcmV2aW91c1ZlcnRpY2FsUG9zaXRpb246IG51bGwsXG4gICAgICAgICAgcHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb246IG51bGxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2lzT3BlbiQubmV4dChmYWxzZSk7XG5cbiAgICAgICAgaWYgKCFza2lwRm9jdXMpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgJiZcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlckVsZW1lbnQudGFiSW5kZXggPiAtMVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH1cblxuICB0b2dnbGUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX2lzT3BlbiQuZ2V0VmFsdWUoKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gIH1cblxuICBkaXNhYmxlKCk6IHZvaWQge1xuICAgIHRoaXMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIGVuYWJsZSgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICByZXBvc2l0aW9uID0gKCk6IEFuZ3VsYXJEcm9wZG93blBvc2l0aW9uQ2hhbmdlcyB8IG51bGwgPT4ge1xuICAgIGlmICghdGhpcy5faXNPcGVuJC5nZXRWYWx1ZSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBkcm9wZG93bkVsZW1lbnQgPSB0aGlzLmRyb3Bkb3duRWxlbWVudDtcbiAgICBpZiAoIWRyb3Bkb3duRWxlbWVudCB8fCAhdGhpcy50cmlnZ2VyRWxlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3QgX2NhbGN1bGF0ZVBvc2l0aW9uID0gdGhpcy5yZW5kZXJJblBsYWNlXG4gICAgICA/IHRoaXMuY2FsY3VsYXRlSW5QbGFjZVBvc2l0aW9uXG4gICAgICA6IHRoaXMuY2FsY3VsYXRlUG9zaXRpb247XG5cbiAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgaG9yaXpvbnRhbFBvc2l0aW9uOiB0aGlzLmhvcml6b250YWxQb3NpdGlvbixcbiAgICAgIHZlcnRpY2FsUG9zaXRpb246IHRoaXMudmVydGljYWxQb3NpdGlvbixcbiAgICAgIG1hdGNoVHJpZ2dlcldpZHRoOiB0aGlzLm1hdGNoVHJpZ2dlcldpZHRoLFxuICAgICAgcHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb246IHRoaXMucHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb24sXG4gICAgICBwcmV2aW91c1ZlcnRpY2FsUG9zaXRpb246IHRoaXMucHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uXG4gICAgfTtcblxuICAgIGNvbnN0IHBvc2l0aW9uRGF0YSA9IF9jYWxjdWxhdGVQb3NpdGlvbihcbiAgICAgIHRoaXMudHJpZ2dlckVsZW1lbnQsXG4gICAgICBkcm9wZG93bkVsZW1lbnQsXG4gICAgICBvcHRpb25zXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLmFwcGx5UmVwb3NpdGlvbihcbiAgICAgIHRoaXMudHJpZ2dlckVsZW1lbnQsXG4gICAgICBkcm9wZG93bkVsZW1lbnQsXG4gICAgICBwb3NpdGlvbkRhdGFcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgYXBwbHlSZXBvc2l0aW9uKFxuICAgIHRyaWdnZXI6IEVsZW1lbnQsXG4gICAgZHJvcGRvd246IEhUTUxFbGVtZW50LFxuICAgIHBvc2l0aW9uczogYW55XG4gICk6IEFuZ3VsYXJEcm9wZG93blBvc2l0aW9uQ2hhbmdlcyB7XG4gICAgY29uc3QgY2hhbmdlczogYW55ID0ge1xuICAgICAgaFBvc2l0aW9uOiBwb3NpdGlvbnMuaG9yaXpvbnRhbFBvc2l0aW9uLFxuICAgICAgdlBvc2l0aW9uOiBwb3NpdGlvbnMudmVydGljYWxQb3NpdGlvblxuICAgIH07XG4gICAgaWYgKHBvc2l0aW9ucy5zdHlsZSkge1xuICAgICAgY2hhbmdlcy50b3AgPSBgJHtwb3NpdGlvbnMuc3R5bGUudG9wfXB4YDtcbiAgICAgIC8vIFRoZSBjb21wb25lbnQgY2FuIGJlIGFsaWduZWQgZnJvbSB0aGUgcmlnaHQgb3IgZnJvbSB0aGUgbGVmdCwgYnV0IG5vdCBmcm9tIGJvdGguXG4gICAgICBpZiAocG9zaXRpb25zLnN0eWxlLmxlZnQgIT0gbnVsbCkge1xuICAgICAgICBjaGFuZ2VzLmxlZnQgPSBgJHtwb3NpdGlvbnMuc3R5bGUubGVmdH1weGA7XG4gICAgICAgIGNoYW5nZXMucmlnaHQgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbnMuc3R5bGUucmlnaHQgIT0gbnVsbCkge1xuICAgICAgICBjaGFuZ2VzLnJpZ2h0ID0gYCR7cG9zaXRpb25zLnN0eWxlLnJpZ2h0fXB4YDtcbiAgICAgICAgY2hhbmdlcy5sZWZ0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChwb3NpdGlvbnMuc3R5bGUud2lkdGggIT0gbnVsbCkge1xuICAgICAgICBjaGFuZ2VzLndpZHRoID0gYCR7cG9zaXRpb25zLnN0eWxlLndpZHRofXB4YDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnBvc2l0aW9uJC5nZXRWYWx1ZSgpLnRvcCA9PSBudWxsKSB7XG4gICAgICAgIC8vIEJ5cGFzcyBvbiB0aGUgZmlyc3QgcmVwb3NpdGlvbiBvbmx5IHRvIGF2b2lkIGZsaWNrZXJpbmcuXG4gICAgICAgIE9iamVjdC5rZXlzKHBvc2l0aW9ucy5zdHlsZSkuZm9yRWFjaChcbiAgICAgICAgICBrID0+IChkcm9wZG93bi5zdHlsZVtrIGFzIGFueV0gPSBwb3NpdGlvbnMuc3R5bGVba10pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5wb3NpdGlvbiQubmV4dChjaGFuZ2VzKTtcblxuICAgIHRoaXMucHJldmlvdXNIb3Jpem9udGFsUG9zaXRpb24gPSBwb3NpdGlvbnMuaG9yaXpvbnRhbFBvc2l0aW9uO1xuICAgIHRoaXMucHJldmlvdXNWZXJ0aWNhbFBvc2l0aW9uID0gcG9zaXRpb25zLnZlcnRpY2FsUG9zaXRpb247XG5cbiAgICByZXR1cm4gY2hhbmdlcztcbiAgfVxuXG4gIHByaXZhdGUgaW5pdGlhbGl6ZUlkKGlkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKGlkKSB7XG4gICAgICB0aGlzLmlkID0gdGhpcy51bmlxdWVJZCA9IGlkO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVuaXF1ZUlkID0gZ2VuZXJhdGVEcm9wZG93bklkKCk7XG4gICAgICB0aGlzLmlkID0gYG5nLWRyb3Bkb3duLSR7dGhpcy51bmlxdWVJZH1gO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlRGVmYXVsdFdvcm1ob2xlT3V0bGV0KCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmctZHJvcGRvd24tb3V0bGV0JykpIHtcbiAgICAgIGNvbnN0IG91dGxldCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBvdXRsZXQuaWQgPSAnbmctZHJvcGRvd24tb3V0bGV0JztcbiAgICAgIHRoaXMuZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUob3V0bGV0LCB0aGlzLmRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YWtlVW50aWwgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgSW5wdXQsXG4gIEhvc3QsXG4gIEluamVjdCxcbiAgZm9yd2FyZFJlZixcbiAgQWZ0ZXJWaWV3Q2hlY2tlZCxcbiAgT25Jbml0LFxuICBPbkRlc3Ryb3ksXG4gIE5nWm9uZVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRE9DVU1FTlQgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQgeyBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24uZGlyZWN0aXZlJztcbmltcG9ydCB7IGNsb3Nlc3QsIHdhaXRGb3JBbmltYXRpb24gfSBmcm9tICcuL3V0aWxzJztcblxuY29uc3QgTXV0YXRpb25PYnNlcnZlciA9ICh3aW5kb3cgYXMgYW55KS5NdXRhdGlvbk9ic2VydmVyO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZy1kcm9wZG93bi1jb250ZW50LFtuZy1kcm9wZG93bi1jb250ZW50XSxbbmdEcm9wZG93bkNvbnRlbnRdJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2FuZ3VsYXItZHJvcGRvd24tY29udGVudC5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2FuZ3VsYXItZHJvcGRvd24tY29udGVudC5jb21wb25lbnQuY3NzJ10sXG4gIGhvc3Q6IHtcbiAgICAnW2NsYXNzLnJlbmRlci1pbi1wbGFjZV0nOiAnZHJvcGRvd24ucmVuZGVySW5QbGFjZSdcbiAgfVxufSlcbmV4cG9ydCBjbGFzcyBBbmd1bGFyRHJvcGRvd25Db250ZW50Q29tcG9uZW50XG4gIGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdDaGVja2VkLCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKVxuICBkcm9wZG93bkNsYXNzID0gJyc7XG5cbiAgQElucHV0KClcbiAgb3ZlcmxheSA9IGZhbHNlO1xuXG4gIHByaXZhdGUgaGFzTW92ZWQgPSBmYWxzZTtcbiAgcHJpdmF0ZSBfYW5pbWF0aW9uQ2xhc3M6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGlzVG91Y2hEZXZpY2U6IGJvb2xlYW4gPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3c7XG4gIHByaXZhdGUgbXV0YXRpb25PYnNlcnZlcjogTXV0YXRpb25PYnNlcnZlciB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGRlc3Ryb3kkID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcblxuICBASW5wdXQoKVxuICB0cmFuc2l0aW9uaW5nSW5DbGFzcyA9ICduZy1kcm9wZG93bi1jb250ZW50LS10cmFuc2l0aW9uaW5nLWluJztcbiAgQElucHV0KClcbiAgdHJhbnNpdGlvbmVkSW5DbGFzcyA9ICduZy1kcm9wZG93bi1jb250ZW50LS10cmFuc2l0aW9uZWQtaW4nO1xuICBASW5wdXQoKVxuICB0cmFuc2l0aW9uaW5nT3V0Q2xhc3MgPSAnbmctZHJvcGRvd24tY29udGVudC0tdHJhbnNpdGlvbmluZy1vdXQnO1xuXG4gIHByaXZhdGUgZ2V0IGRyb3Bkb3duRWxlbWVudCgpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLmRyb3Bkb3duLmRyb3Bkb3duRWxlbWVudDtcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkT3BlbiA9IGZhbHNlO1xuICBwcml2YXRlIGRvY3VtZW50OiBEb2N1bWVudDtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBASG9zdCgpXG4gICAgQEluamVjdChmb3J3YXJkUmVmKCgpID0+IEFuZ3VsYXJEcm9wZG93bkRpcmVjdGl2ZSkpXG4gICAgcHVibGljIGRyb3Bkb3duOiBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUsXG4gICAgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsXG4gICAgQEluamVjdChET0NVTUVOVCkgZG9jdW1lbnQ6IGFueVxuICApIHtcbiAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmRyb3Bkb3duLm9uT3BlblxuICAgICAgLnBpcGUodGFrZVVudGlsKHRoaXMuZGVzdHJveSQpKVxuICAgICAgLnN1YnNjcmliZSgoKSA9PiAodGhpcy5zaG91bGRPcGVuID0gdHJ1ZSkpO1xuXG4gICAgdGhpcy5kcm9wZG93bi5vbkNsb3NlXG4gICAgICAucGlwZSh0YWtlVW50aWwodGhpcy5kZXN0cm95JCkpXG4gICAgICAuc3Vic2NyaWJlKCgpID0+IHRoaXMuY2xvc2UoKSk7XG4gIH1cblxuICBzZXQgYW5pbWF0aW9uQ2xhc3MoY2xhc3NOYW1lOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgaWYgKHRoaXMuZHJvcGRvd25FbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5fYW5pbWF0aW9uQ2xhc3MgJiYgY2xhc3NOYW1lICE9PSB0aGlzLl9hbmltYXRpb25DbGFzcykge1xuICAgICAgICB0aGlzLmRyb3Bkb3duRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2FuaW1hdGlvbkNsYXNzKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fYW5pbWF0aW9uQ2xhc3MgPSBjbGFzc05hbWU7XG4gIH1cblxuICBnZXQgYW5pbWF0aW9uQ2xhc3MoKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuX2FuaW1hdGlvbkNsYXNzO1xuICB9XG5cbiAgZ2V0IHRyaWdnZXJFbGVtZW50KCk6IEVsZW1lbnQgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy5kcm9wZG93bi50cmlnZ2VyRWxlbWVudDtcbiAgfVxuXG4gIG5nQWZ0ZXJWaWV3Q2hlY2tlZCgpIHtcbiAgICBpZiAodGhpcy5zaG91bGRPcGVuKSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbkNsYXNzID0gdGhpcy50cmFuc2l0aW9uaW5nSW5DbGFzcztcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLm9wZW4oKSk7XG4gICAgICB0aGlzLnNob3VsZE9wZW4gPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmRlc3Ryb3kkLm5leHQoKTtcbiAgICB0aGlzLnRlYXJkb3duRXZlbnRzKCk7XG4gIH1cblxuICBvcGVuKCk6IHZvaWQge1xuICAgIHRoaXMuZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ21vdXNlZG93bicsXG4gICAgICB0aGlzLmhhbmRsZVJvb3RNb3VzZURvd24sXG4gICAgICB0cnVlXG4gICAgKTtcblxuICAgIGlmICh0aGlzLmlzVG91Y2hEZXZpY2UpIHtcbiAgICAgIHRoaXMuZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAndG91Y2hzdGFydCcsXG4gICAgICAgIHRoaXMudG91Y2hTdGFydEhhbmRsZXIsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgICB0aGlzLmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RvdWNoZW5kJyxcbiAgICAgICAgdGhpcy5oYW5kbGVSb290TW91c2VEb3duLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGNoYW5nZXMgPSB0aGlzLmRyb3Bkb3duLnJlcG9zaXRpb24oKTtcbiAgICBpZiAoIXRoaXMuZHJvcGRvd24ucmVuZGVySW5QbGFjZSkge1xuICAgICAgdGhpcy5hZGRHbG9iYWxFdmVudHMoKTtcbiAgICAgIHRoaXMuc3RhcnRPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTtcbiAgICB9IGVsc2UgaWYgKGNoYW5nZXMgIT09IG51bGwgJiYgY2hhbmdlcy52UG9zaXRpb24gPT09ICdhYm92ZScpIHtcbiAgICAgIHRoaXMuc3RhcnRPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5hbmltYXRlSW4oKSk7XG4gIH1cblxuICBjbG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLnRlYXJkb3duRXZlbnRzKCk7XG4gICAgdGhpcy5hbmltYXRlT3V0KCk7XG4gIH1cblxuICBwcml2YXRlIHJlcG9zaXRpb25JblpvbmUgPSAoKSA9PlxuICAgIHRoaXMuem9uZS5ydW4oKCkgPT4gdGhpcy5kcm9wZG93bi5yZXBvc2l0aW9uKCkpO1xuXG4gIHByaXZhdGUgYW5pbWF0ZUluKCk6IHZvaWQge1xuICAgIHdhaXRGb3JBbmltYXRpb24odGhpcy5kcm9wZG93bkVsZW1lbnQsICgpID0+IHtcbiAgICAgIHRoaXMuYW5pbWF0aW9uQ2xhc3MgPSB0aGlzLnRyYW5zaXRpb25lZEluQ2xhc3M7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFuaW1hdGVPdXQoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuZHJvcGRvd25FbGVtZW50ID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFyZW50RWxlbWVudCA9IHRoaXMuZHJvcGRvd24ucmVuZGVySW5QbGFjZVxuICAgICAgPyB0aGlzLmRyb3Bkb3duRWxlbWVudC5wYXJlbnRFbGVtZW50IS5wYXJlbnRFbGVtZW50IVxuICAgICAgOiB0aGlzLmRyb3Bkb3duRWxlbWVudC5wYXJlbnRFbGVtZW50ITtcbiAgICBjb25zdCBjbG9uZSA9IHRoaXMuZHJvcGRvd25FbGVtZW50LmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjbG9uZS5pZCA9IGAke3RoaXMuZHJvcGRvd25FbGVtZW50LmlkfS0tY2xvbmVgO1xuICAgIGNsb25lLmNsYXNzTGlzdC5yZW1vdmUodGhpcy50cmFuc2l0aW9uZWRJbkNsYXNzKTtcbiAgICBjbG9uZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMudHJhbnNpdGlvbmluZ0luQ2xhc3MpO1xuICAgIGNsb25lLmNsYXNzTGlzdC5hZGQodGhpcy50cmFuc2l0aW9uaW5nT3V0Q2xhc3MpO1xuICAgIHBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2xvbmUpO1xuICAgIHRoaXMuYW5pbWF0aW9uQ2xhc3MgPSB0aGlzLnRyYW5zaXRpb25pbmdJbkNsYXNzO1xuICAgIHdhaXRGb3JBbmltYXRpb24oY2xvbmUsICgpID0+IHBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoY2xvbmUpKTtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlUm9vdE1vdXNlRG93biA9IChlOiBFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHsgdGFyZ2V0IH0gPSBlIGFzIEV2ZW50ICYgeyB0YXJnZXQ6IEVsZW1lbnQgfTtcblxuICAgIGlmIChcbiAgICAgIHRoaXMuaGFzTW92ZWQgfHxcbiAgICAgICh0aGlzLmRyb3Bkb3duRWxlbWVudCAhPT0gbnVsbCAmJlxuICAgICAgICB0aGlzLmRyb3Bkb3duRWxlbWVudC5jb250YWlucyh0YXJnZXQpKSB8fFxuICAgICAgKHRoaXMudHJpZ2dlckVsZW1lbnQgIT09IG51bGwgJiYgdGhpcy50cmlnZ2VyRWxlbWVudC5jb250YWlucyh0YXJnZXQpKVxuICAgICkge1xuICAgICAgdGhpcy5oYXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGNsb3Nlc3REcm9wZG93biA9IGNsb3Nlc3QodGFyZ2V0LCAnbmctZHJvcGRvd24tY29udGVudCcpO1xuICAgIGlmIChjbG9zZXN0RHJvcGRvd24gIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHRyaWdnZXIgPSB0aGlzLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgIGBbYXJpYS1jb250cm9scz0ke2Nsb3Nlc3REcm9wZG93bi5nZXRBdHRyaWJ1dGUoJ2lkJyl9XWBcbiAgICAgICk7XG4gICAgICBjb25zdCBwYXJlbnREcm9wZG93biA9IGNsb3Nlc3QodHJpZ2dlciEsICduZy1kcm9wZG93bi1jb250ZW50Jyk7XG4gICAgICBpZiAoXG4gICAgICAgIHBhcmVudERyb3Bkb3duICE9PSBudWxsICYmXG4gICAgICAgIHBhcmVudERyb3Bkb3duLmdldEF0dHJpYnV0ZSgnaWQnKSA9PT0gdGhpcy5kcm9wZG93bi5kcm9wZG93bklkXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5oYXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5kcm9wZG93bi5jbG9zZSh0cnVlKTtcbiAgfTtcblxuICBwcml2YXRlIHN0YXJ0T2JzZXJ2aW5nRG9tTXV0YXRpb25zKCk6IHZvaWQge1xuICAgIGlmIChNdXRhdGlvbk9ic2VydmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnM6IGFueSkgPT4ge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbXV0YXRpb25zWzBdLmFkZGVkTm9kZXMubGVuZ3RoIHx8XG4gICAgICAgICAgbXV0YXRpb25zWzBdLnJlbW92ZWROb2Rlcy5sZW5ndGhcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGhpcy5yZXBvc2l0aW9uSW5ab25lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyIS5vYnNlcnZlKHRoaXMuZHJvcGRvd25FbGVtZW50ISwge1xuICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIHN1YnRyZWU6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRyb3Bkb3duRWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ0RPTU5vZGVJbnNlcnRlZCcsXG4gICAgICAgIHRoaXMucmVwb3NpdGlvbkluWm9uZSxcbiAgICAgICAgZmFsc2VcbiAgICAgICk7XG4gICAgICB0aGlzLmRyb3Bkb3duRWxlbWVudCEuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ0RPTU5vZGVSZW1vdmVkJyxcbiAgICAgICAgdGhpcy5yZXBvc2l0aW9uSW5ab25lLFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHN0b3BPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTogdm9pZCB7XG4gICAgaWYgKE11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIGlmICh0aGlzLm11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMuZHJvcGRvd25FbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgJ0RPTU5vZGVJbnNlcnRlZCcsXG4gICAgICAgICAgdGhpcy5yZXBvc2l0aW9uSW5ab25lXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZHJvcGRvd25FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgJ0RPTU5vZGVSZW1vdmVkJyxcbiAgICAgICAgICB0aGlzLnJlcG9zaXRpb25JblpvbmVcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFkZEdsb2JhbEV2ZW50cygpOiB2b2lkIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5yZXBvc2l0aW9uSW5ab25lKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXBvc2l0aW9uSW5ab25lKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzLnJlcG9zaXRpb25JblpvbmUpO1xuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVHbG9iYWxFdmVudHMoKTogdm9pZCB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMucmVwb3NpdGlvbkluWm9uZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVwb3NpdGlvbkluWm9uZSk7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5yZXBvc2l0aW9uSW5ab25lKTtcbiAgfVxuXG4gIHByaXZhdGUgdG91Y2hTdGFydEhhbmRsZXIgPSAoZTogRXZlbnQpID0+IHtcbiAgICB0aGlzLmRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICd0b3VjaG1vdmUnLFxuICAgICAgdGhpcy50b3VjaE1vdmVIYW5kbGVyLFxuICAgICAgdHJ1ZVxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSB0b3VjaE1vdmVIYW5kbGVyID0gKGU6IEV2ZW50KSA9PiB7XG4gICAgdGhpcy5oYXNNb3ZlZCA9IHRydWU7XG4gICAgdGhpcy5kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAndG91Y2htb3ZlJyxcbiAgICAgIHRoaXMudG91Y2hNb3ZlSGFuZGxlcixcbiAgICAgIHRydWVcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgdGVhcmRvd25FdmVudHMoKSB7XG4gICAgdGhpcy5yZW1vdmVHbG9iYWxFdmVudHMoKTtcbiAgICB0aGlzLnN0b3BPYnNlcnZpbmdEb21NdXRhdGlvbnMoKTtcbiAgICB0aGlzLmRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdtb3VzZWRvd24nLFxuICAgICAgdGhpcy5oYW5kbGVSb290TW91c2VEb3duLFxuICAgICAgdHJ1ZVxuICAgICk7XG5cbiAgICBpZiAodGhpcy5pc1RvdWNoRGV2aWNlKSB7XG4gICAgICB0aGlzLmRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ3RvdWNoc3RhcnQnLFxuICAgICAgICB0aGlzLnRvdWNoU3RhcnRIYW5kbGVyLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgICAgdGhpcy5kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICd0b3VjaGVuZCcsXG4gICAgICAgIHRoaXMuaGFuZGxlUm9vdE1vdXNlRG93bixcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5pbXBvcnQgeyBOZ1dvcm1ob2xlTW9kdWxlIH0gZnJvbSAnbmctd29ybWhvbGUnO1xuXG5pbXBvcnQgeyBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24uZGlyZWN0aXZlJztcbmltcG9ydCB7IEFuZ3VsYXJEcm9wZG93bkNvbnRlbnRDb21wb25lbnQgfSBmcm9tICcuL2FuZ3VsYXItZHJvcGRvd24tY29udGVudC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSB9IGZyb20gJy4vYW5ndWxhci1kcm9wZG93bi1jb250cm9sLmRpcmVjdGl2ZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtDb21tb25Nb2R1bGUsIE5nV29ybWhvbGVNb2R1bGVdLFxuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUsXG4gICAgQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSxcbiAgICBBbmd1bGFyRHJvcGRvd25Db250ZW50Q29tcG9uZW50XG4gIF0sXG4gIGV4cG9ydHM6IFtcbiAgICBBbmd1bGFyRHJvcGRvd25EaXJlY3RpdmUsXG4gICAgQW5ndWxhckRyb3Bkb3duQ29udHJvbERpcmVjdGl2ZSxcbiAgICBBbmd1bGFyRHJvcGRvd25Db250ZW50Q29tcG9uZW50XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgQW5ndWxhckRyb3Bkb3duTW9kdWxlIHt9XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBOzs7OztJQXFDRSxZQUdXLFFBQWtDLEVBQ2xDLE9BQW1CO1FBRG5CLGFBQVEsR0FBUixRQUFRLENBQTBCO1FBQ2xDLFlBQU8sR0FBUCxPQUFPLENBQVk7UUFoQjlCLG1CQUFjLEdBQVksS0FBSyxDQUFDO0tBaUIvQjs7Ozs7SUFiRCxPQUFPLENBQUMsQ0FBUTtRQUNkLENBQUMsQ0FBQyxlQUFlLEVBQUUsQ0FBQztRQUVwQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLEVBQUU7WUFDM0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztTQUN4QjtLQUNGOzs7O0lBU0QsUUFBUTtRQUNOLElBQUksQ0FBQyx5QkFBeUIsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQzlELE1BQU0sS0FBSyxJQUFJLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQyxDQUN6QyxDQUFDO0tB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