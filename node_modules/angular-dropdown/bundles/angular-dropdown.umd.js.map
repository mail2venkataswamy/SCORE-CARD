{"version":3,"file":"angular-dropdown.umd.js.map","sources":["ng://angular-dropdown/lib/angular-dropdown-control.directive.ts","ng://angular-dropdown/lib/utils.ts","ng://angular-dropdown/lib/angular-dropdown.directive.ts","ng://angular-dropdown/lib/angular-dropdown-content.component.ts","ng://angular-dropdown/lib/angular-dropdown.module.ts"],"sourcesContent":["import {\n  Directive,\n  ElementRef,\n  Inject,\n  forwardRef,\n  Input,\n  Host,\n  HostListener\n} from '@angular/core';\n\nimport { AngularDropdownDirective }\n  from './angular-dropdown.directive';\nimport { Subscription } from 'rxjs';\n\n@Directive({\n  selector: '[ng-dropdown-control],[ngDropdownControl]',\n  host: {\n    '[attr.aria-haspopup]': 'true',\n    '[attr.aria-controls]': 'dropdown.id',\n    '[attr.aria-expanded]': 'isDropdownOpen',\n    '[class.ng-dropdown-control]': 'true',\n    '[class.active]': 'isDropdownOpen'\n  }\n})\nexport class AngularDropdownControlDirective {\n  isDropdownOpen: boolean = false;\n  dropdownStateSubscription?: Subscription;\n\n  @HostListener('click', [ '$event' ])\n  onClick(e: Event): void {\n    e.stopPropagation();\n\n    if (!this.dropdown.disabled) {\n      this.dropdown.toggle();\n    }\n  }\n\n  constructor(\n      @Host()\n      @Inject(forwardRef(() => AngularDropdownDirective))\n      public dropdown: AngularDropdownDirective,\n      public element: ElementRef) {\n  }\n\n  ngOnInit() {\n    this.dropdownStateSubscription = this.dropdown.isOpen$.subscribe(\n      isOpen => (this.isDropdownOpen = isOpen)\n    );\n  }\n\n  ngOnDestroy(){\n    this.dropdownStateSubscription && this.dropdownStateSubscription.unsubscribe();\n  }\n}\n","export function waitForAnimation(\n  element: Element | null,\n  callback: (e?: Event) => any\n): void {\n  if (element === null) {\n    return;\n  }\n\n  requestAnimationFrame(() => {\n    const computedStyle = window.getComputedStyle(element);\n\n    if (\n      computedStyle.animationName !== 'none' &&\n      computedStyle.animationPlayState === 'running'\n    ) {\n      return once(element, 'animationend', callback);\n    }\n\n    callback();\n  });\n}\n\nfunction once(\n  element: Node,\n  eventName: string,\n  listener: (e: Event) => any\n): void {\n  element.addEventListener(eventName, function listenOnce(e) {\n    element.removeEventListener(eventName, listenOnce);\n\n    return listener(e);\n  });\n}\n\nexport const closest: (element: Element, selector: string) => Element | null =\n  typeof Element != 'undefined' && Element.prototype.closest\n    ? (el, s) => el.closest(s)\n    : function _closest(self: Element, s: string) {\n        const matches = (\n          (self as any).document || self.ownerDocument\n        ).querySelectorAll(s);\n        let i;\n        let el: Element | null = self;\n        do {\n          i = matches.length;\n          while (--i >= 0 && matches.item(i) !== el) {}\n        } while (i < 0 && (el = el.parentElement));\n        return el;\n      };\n\nexport function calculatePosition(\n  trigger: Element,\n  dropdown: Element,\n  {\n    horizontalPosition,\n    verticalPosition,\n    matchTriggerWidth,\n    previousHorizontalPosition,\n    previousVerticalPosition\n  }: any\n): any {\n  // Collect information about all the involved DOM elements\n  const scroll = { left: window.pageXOffset, top: window.pageYOffset };\n  const {\n    left: triggerLeft,\n    top: triggerTop,\n    width: triggerWidth,\n    height: triggerHeight\n  } = trigger.getBoundingClientRect();\n  let {\n    height: dropdownHeight,\n    width: dropdownWidth\n  } = dropdown.getBoundingClientRect();\n  const viewportWidth = window.innerWidth;\n  const style: any = {};\n\n  // Calculate drop down width\n  dropdownWidth = matchTriggerWidth ? triggerWidth : dropdownWidth;\n  if (matchTriggerWidth) {\n    style.width = dropdownWidth;\n  }\n\n  // Calculate horizontal position\n  const triggerLeftWithScroll = triggerLeft + scroll.left;\n  if (horizontalPosition === 'auto') {\n    // Calculate the number of visible horizontal pixels if we were to place the\n    // dropdown on the left and right\n    const leftVisible =\n      Math.min(viewportWidth, triggerLeft + dropdownWidth) -\n      Math.max(0, triggerLeft);\n    const rightVisible =\n      Math.min(viewportWidth, triggerLeft + triggerWidth) -\n      Math.max(0, triggerLeft + triggerWidth - dropdownWidth);\n\n    if (dropdownWidth > leftVisible && rightVisible > leftVisible) {\n      // If the drop down won't fit left-aligned, and there is more space on the\n      // right than on the left, then force right-aligned\n      horizontalPosition = 'right';\n    } else if (dropdownWidth > rightVisible && leftVisible > rightVisible) {\n      // If the drop down won't fit right-aligned, and there is more space on\n      // the left than on the right, then force left-aligned\n      horizontalPosition = 'left';\n    } else {\n      // Keep same position as previous\n      horizontalPosition = previousHorizontalPosition || 'left';\n    }\n  }\n  if (horizontalPosition === 'right') {\n    style.right = viewportWidth - (triggerLeftWithScroll + triggerWidth);\n  } else if (horizontalPosition === 'center') {\n    style.left = triggerLeftWithScroll + (triggerWidth - dropdownWidth) / 2;\n  } else {\n    style.left = triggerLeftWithScroll;\n  }\n\n  // Calculate vertical position\n  const triggerTopWithScroll = triggerTop + scroll.top;\n  if (verticalPosition === 'above') {\n    style.top = triggerTopWithScroll - dropdownHeight;\n  } else if (verticalPosition === 'below') {\n    style.top = triggerTopWithScroll + triggerHeight;\n  } else {\n    const viewportBottom = scroll.top + self.window.innerHeight;\n    const enoughRoomBelow =\n      triggerTopWithScroll + triggerHeight + dropdownHeight < viewportBottom;\n    const enoughRoomAbove = triggerTop > dropdownHeight;\n\n    if (\n      previousVerticalPosition === 'below' &&\n      !enoughRoomBelow &&\n      enoughRoomAbove\n    ) {\n      verticalPosition = 'above';\n    } else if (\n      previousVerticalPosition === 'above' &&\n      !enoughRoomAbove &&\n      enoughRoomBelow\n    ) {\n      verticalPosition = 'below';\n    } else if (!previousVerticalPosition) {\n      verticalPosition = enoughRoomBelow ? 'below' : 'above';\n    } else {\n      verticalPosition = previousVerticalPosition;\n    }\n    style.top =\n      triggerTopWithScroll +\n      (verticalPosition === 'below' ? triggerHeight : -dropdownHeight);\n  }\n\n  return { horizontalPosition, verticalPosition, style };\n}\n\nexport function calculateInPlacePosition(\n  trigger: Element,\n  dropdown: Element,\n  { horizontalPosition, verticalPosition }: any\n) {\n  let dropdownRect;\n  const positionData: any = {};\n\n  if (horizontalPosition === 'auto') {\n    const triggerRect = trigger.getBoundingClientRect();\n    dropdownRect = dropdown.getBoundingClientRect();\n    const viewportRight = window.pageXOffset + window.innerWidth;\n    positionData.horizontalPosition =\n      triggerRect.left + dropdownRect.width > viewportRight ? 'right' : 'left';\n  }\n  if (verticalPosition === 'above') {\n    positionData.verticalPosition = verticalPosition;\n    dropdownRect = dropdownRect || dropdown.getBoundingClientRect();\n    positionData.style = { top: -dropdownRect.height };\n  }\n  return positionData;\n}\n","import { Observable, BehaviorSubject, of } from 'rxjs';\nimport { skip, first, filter } from 'rxjs/operators';\n\nimport {\n  Component,\n  Directive,\n  Attribute,\n  Inject,\n  Input,\n  Output,\n  ElementRef,\n  AfterViewInit,\n  OnChanges,\n  ContentChild,\n  SimpleChanges,\n  EventEmitter,\n  QueryList,\n  ViewContainerRef,\n  forwardRef\n} from '@angular/core';\n\nimport { DOCUMENT } from '@angular/common';\n\nimport { AngularDropdownControlDirective } from './angular-dropdown-control.directive';\nimport { AngularDropdownContentComponent } from './angular-dropdown-content.component';\n\nimport { calculatePosition, calculateInPlacePosition } from './utils';\n\nexport interface AngularDropdownPositionChanges {\n  vPosition: 'above' | 'below';\n  hPosition: 'right' | 'center' | 'left';\n}\n\nlet _id = 1;\nfunction generateDropdownId() {\n  return _id++;\n}\n\nexport type VerticalPosition = 'auto' | 'above' | 'below';\nexport type HorizontalPosition = 'auto' | 'right' | 'center' | 'left';\n\nexport interface DropdownContentPosition {\n  readonly hPosition: HorizontalPosition | null;\n  readonly vPosition: VerticalPosition | null;\n  readonly top: string | null;\n  readonly left: string | null;\n  readonly bottom: string | null;\n  readonly right: string | null;\n}\n\nconst EmptyDropdownContentPosition = Object.freeze({\n  vPosition: null,\n  hPosition: null,\n  top: null,\n  left: null,\n  bottom: null,\n  right: null\n});\n\n@Directive({\n  selector: 'ng-dropdown,[ngDropdown],[ng-dropdown]',\n  host: {\n    '[class.render-in-place]': 'renderInPlace',\n    '[class.ng-dropdown]': 'true'\n  },\n  exportAs: 'ngDropdown'\n})\nexport class AngularDropdownDirective implements OnChanges {\n  id?: string;\n\n  @Input()\n  renderInPlace = false;\n\n  @ContentChild(AngularDropdownControlDirective)\n  control: AngularDropdownControlDirective | null = null;\n\n  previousVerticalPosition: VerticalPosition | null = null;\n  previousHorizontalPosition: HorizontalPosition | null = null;\n  matchTriggerWidth = false;\n\n  private _isOpen$ = new BehaviorSubject(false);\n  isOpen$ = this._isOpen$.pipe(skip(1));\n\n  position$ = new BehaviorSubject<Readonly<DropdownContentPosition>>(\n    EmptyDropdownContentPosition\n  );\n\n  get dropdownId() {\n    return `ng-dropdown-content-${this.uniqueId}`;\n  }\n\n  @Input()\n  calculatePosition: Function = calculatePosition;\n  @Input()\n  calculateInPlacePosition: Function = calculateInPlacePosition;\n\n  @Input()\n  disabled = false;\n\n  @Input()\n  beforeOpen: (() => boolean | Observable<boolean>) | null = null;\n\n  @Input()\n  beforeClose: (() => boolean | Observable<boolean>) | null = null;\n\n  @Input()\n  public verticalPosition: VerticalPosition = 'auto';\n  @Input()\n  public horizontalPosition: HorizontalPosition = 'auto';\n\n  @Output('open')\n  onOpen = this.isOpen$.pipe(filter(open => open === true));\n\n  @Output('close')\n  onClose = this.isOpen$.pipe(filter(open => open === false));\n\n  get triggerElement(): HTMLElement | null {\n    return this.control && this.control.element.nativeElement;\n  }\n\n  get dropdownElement(): HTMLElement | null {\n    return this.document.getElementById(this.dropdownId);\n  }\n\n  @ContentChild(forwardRef(() => AngularDropdownContentComponent))\n  private dropdownContent?: AngularDropdownContentComponent;\n\n  private uniqueId: number | string | null = null;\n  private width: number | null = null;\n  private document: Document;\n\n  constructor(@Inject(DOCUMENT) document: any, @Attribute('id') id?: string) {\n    this.document = document;\n    this.initializeId(id);\n    this.createDefaultWormholeOutlet();\n  }\n\n  ngOnChanges({ disabled }: SimpleChanges): void {\n    if (\n      disabled &&\n      disabled.firstChange === false &&\n      disabled.currentValue === true &&\n      disabled.previousValue !== true\n    ) {\n      this.disable();\n    }\n  }\n\n  open(): void {\n    if (this.disabled || this._isOpen$.getValue()) {\n      return;\n    }\n\n    let open$ = of(true);\n\n    if (this.beforeOpen) {\n      const result = this.beforeOpen();\n      open$ = result instanceof Observable ? result : of(result);\n    }\n\n    open$\n      .pipe(\n        first(),\n        filter(open => open === true)\n      )\n      .subscribe(() => this._isOpen$.next(true));\n  }\n\n  close(skipFocus = false): void {\n    if (this.disabled || !this._isOpen$.getValue()) {\n      return;\n    }\n\n    let close$ = of(true);\n\n    if (this.beforeClose) {\n      const result = this.beforeClose();\n      close$ = result instanceof Observable ? result : of(result);\n    }\n\n    close$\n      .pipe(\n        first(),\n        filter(close => close === true)\n      )\n      .subscribe(() => {\n        Object.assign(this, {\n          hPosition: null,\n          vPosition: null,\n          top: null,\n          right: null,\n          bottom: null,\n          left: null,\n          width: null,\n          previousVerticalPosition: null,\n          previousHorizontalPosition: null\n        });\n        this._isOpen$.next(false);\n\n        if (!skipFocus) {\n          if (\n            this.triggerElement instanceof HTMLElement &&\n            this.triggerElement.tabIndex > -1\n          ) {\n            this.triggerElement.focus();\n          }\n        }\n      });\n  }\n\n  toggle(): void {\n    if (this._isOpen$.getValue()) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  disable(): void {\n    this.disabled = true;\n    this.close();\n  }\n\n  enable(): void {\n    this.disabled = false;\n  }\n\n  reposition = (): AngularDropdownPositionChanges | null => {\n    if (!this._isOpen$.getValue()) {\n      return null;\n    }\n\n    const dropdownElement = this.dropdownElement;\n    if (!dropdownElement || !this.triggerElement) {\n      return null;\n    }\n\n    const _calculatePosition = this.renderInPlace\n      ? this.calculateInPlacePosition\n      : this.calculatePosition;\n\n    const options = {\n      horizontalPosition: this.horizontalPosition,\n      verticalPosition: this.verticalPosition,\n      matchTriggerWidth: this.matchTriggerWidth,\n      previousHorizontalPosition: this.previousHorizontalPosition,\n      previousVerticalPosition: this.previousVerticalPosition\n    };\n\n    const positionData = _calculatePosition(\n      this.triggerElement,\n      dropdownElement,\n      options\n    );\n\n    return this.applyReposition(\n      this.triggerElement,\n      dropdownElement,\n      positionData\n    );\n  };\n\n  private applyReposition(\n    trigger: Element,\n    dropdown: HTMLElement,\n    positions: any\n  ): AngularDropdownPositionChanges {\n    const changes: any = {\n      hPosition: positions.horizontalPosition,\n      vPosition: positions.verticalPosition\n    };\n    if (positions.style) {\n      changes.top = `${positions.style.top}px`;\n      // The component can be aligned from the right or from the left, but not from both.\n      if (positions.style.left != null) {\n        changes.left = `${positions.style.left}px`;\n        changes.right = null;\n      } else if (positions.style.right != null) {\n        changes.right = `${positions.style.right}px`;\n        changes.left = null;\n      }\n      if (positions.style.width != null) {\n        changes.width = `${positions.style.width}px`;\n      }\n      if (this.position$.getValue().top == null) {\n        // Bypass on the first reposition only to avoid flickering.\n        Object.keys(positions.style).forEach(\n          k => (dropdown.style[k as any] = positions.style[k])\n        );\n      }\n    }\n\n    this.position$.next(changes);\n\n    this.previousHorizontalPosition = positions.horizontalPosition;\n    this.previousVerticalPosition = positions.verticalPosition;\n\n    return changes;\n  }\n\n  private initializeId(id?: string): void {\n    if (id) {\n      this.id = this.uniqueId = id;\n    } else {\n      this.uniqueId = generateDropdownId();\n      this.id = `ng-dropdown-${this.uniqueId}`;\n    }\n  }\n\n  private createDefaultWormholeOutlet(): void {\n    if (!this.document.getElementById('ng-dropdown-outlet')) {\n      const outlet = this.document.createElement('div');\n      outlet.id = 'ng-dropdown-outlet';\n      this.document.body.insertBefore(outlet, this.document.body.firstChild);\n    }\n  }\n}\n","import { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport {\n  Component,\n  Input,\n  Host,\n  Inject,\n  forwardRef,\n  AfterViewChecked,\n  OnInit,\n  OnDestroy,\n  NgZone\n} from '@angular/core';\n\nimport { DOCUMENT } from '@angular/common';\n\nimport { AngularDropdownDirective } from './angular-dropdown.directive';\nimport { closest, waitForAnimation } from './utils';\n\nconst MutationObserver = (window as any).MutationObserver;\n\n@Component({\n  selector: 'ng-dropdown-content,[ng-dropdown-content],[ngDropdownContent]',\n  templateUrl: './angular-dropdown-content.component.html',\n  styleUrls: ['./angular-dropdown-content.component.css'],\n  host: {\n    '[class.render-in-place]': 'dropdown.renderInPlace'\n  }\n})\nexport class AngularDropdownContentComponent\n  implements OnInit, AfterViewChecked, OnDestroy {\n  @Input()\n  dropdownClass = '';\n\n  @Input()\n  overlay = false;\n\n  private hasMoved = false;\n  private _animationClass: string | null = null;\n  private isTouchDevice: boolean = 'ontouchstart' in window;\n  private mutationObserver: MutationObserver | null = null;\n  private destroy$ = new Subject<void>();\n\n  @Input()\n  transitioningInClass = 'ng-dropdown-content--transitioning-in';\n  @Input()\n  transitionedInClass = 'ng-dropdown-content--transitioned-in';\n  @Input()\n  transitioningOutClass = 'ng-dropdown-content--transitioning-out';\n\n  private get dropdownElement(): HTMLElement | null {\n    return this.dropdown.dropdownElement;\n  }\n\n  private shouldOpen = false;\n  private document: Document;\n\n  constructor(\n    @Host()\n    @Inject(forwardRef(() => AngularDropdownDirective))\n    public dropdown: AngularDropdownDirective,\n    private zone: NgZone,\n    @Inject(DOCUMENT) document: any\n  ) {\n    this.document = document;\n  }\n\n  ngOnInit(): void {\n    this.dropdown.onOpen\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => (this.shouldOpen = true));\n\n    this.dropdown.onClose\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => this.close());\n  }\n\n  set animationClass(className: string | null) {\n    if (this.dropdownElement !== null) {\n      if (this._animationClass && className !== this._animationClass) {\n        this.dropdownElement.classList.remove(this._animationClass);\n      } else if (className) {\n        this.dropdownElement.classList.add(className);\n      }\n    }\n    this._animationClass = className;\n  }\n\n  get animationClass(): string | null {\n    return this._animationClass;\n  }\n\n  get triggerElement(): Element | null {\n    return this.dropdown.triggerElement;\n  }\n\n  ngAfterViewChecked() {\n    if (this.shouldOpen) {\n      this.animationClass = this.transitioningInClass;\n      requestAnimationFrame(() => this.open());\n      this.shouldOpen = false;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.teardownEvents();\n  }\n\n  open(): void {\n    this.document.body.addEventListener(\n      'mousedown',\n      this.handleRootMouseDown,\n      true\n    );\n\n    if (this.isTouchDevice) {\n      this.document.body.addEventListener(\n        'touchstart',\n        this.touchStartHandler,\n        true\n      );\n      this.document.body.addEventListener(\n        'touchend',\n        this.handleRootMouseDown,\n        true\n      );\n    }\n\n    const changes = this.dropdown.reposition();\n    if (!this.dropdown.renderInPlace) {\n      this.addGlobalEvents();\n      this.startObservingDomMutations();\n    } else if (changes !== null && changes.vPosition === 'above') {\n      this.startObservingDomMutations();\n    }\n\n    requestAnimationFrame(() => this.animateIn());\n  }\n\n  close(): void {\n    this.teardownEvents();\n    this.animateOut();\n  }\n\n  private repositionInZone = () =>\n    this.zone.run(() => this.dropdown.reposition());\n\n  private animateIn(): void {\n    waitForAnimation(this.dropdownElement, () => {\n      this.animationClass = this.transitionedInClass;\n    });\n  }\n\n  private animateOut(): void {\n    if (this.dropdownElement === null) {\n      return;\n    }\n\n    const parentElement = this.dropdown.renderInPlace\n      ? this.dropdownElement.parentElement!.parentElement!\n      : this.dropdownElement.parentElement!;\n    const clone = this.dropdownElement.cloneNode(true) as HTMLElement;\n    clone.id = `${this.dropdownElement.id}--clone`;\n    clone.classList.remove(this.transitionedInClass);\n    clone.classList.remove(this.transitioningInClass);\n    clone.classList.add(this.transitioningOutClass);\n    parentElement.appendChild(clone);\n    this.animationClass = this.transitioningInClass;\n    waitForAnimation(clone, () => parentElement.removeChild(clone));\n  }\n\n  private handleRootMouseDown = (e: Event): void => {\n    const { target } = e as Event & { target: Element };\n\n    if (\n      this.hasMoved ||\n      (this.dropdownElement !== null &&\n        this.dropdownElement.contains(target)) ||\n      (this.triggerElement !== null && this.triggerElement.contains(target))\n    ) {\n      this.hasMoved = false;\n      return;\n    }\n\n    const closestDropdown = closest(target, 'ng-dropdown-content');\n    if (closestDropdown !== null) {\n      const trigger = this.document.querySelector(\n        `[aria-controls=${closestDropdown.getAttribute('id')}]`\n      );\n      const parentDropdown = closest(trigger!, 'ng-dropdown-content');\n      if (\n        parentDropdown !== null &&\n        parentDropdown.getAttribute('id') === this.dropdown.dropdownId\n      ) {\n        this.hasMoved = false;\n        return;\n      }\n    }\n\n    this.dropdown.close(true);\n  };\n\n  private startObservingDomMutations(): void {\n    if (MutationObserver !== undefined) {\n      this.mutationObserver = new MutationObserver((mutations: any) => {\n        if (\n          mutations[0].addedNodes.length ||\n          mutations[0].removedNodes.length\n        ) {\n          this.repositionInZone();\n        }\n      });\n      this.mutationObserver!.observe(this.dropdownElement!, {\n        childList: true,\n        subtree: true\n      });\n    } else {\n      this.dropdownElement!.addEventListener(\n        'DOMNodeInserted',\n        this.repositionInZone,\n        false\n      );\n      this.dropdownElement!.addEventListener(\n        'DOMNodeRemoved',\n        this.repositionInZone,\n        false\n      );\n    }\n  }\n\n  private stopObservingDomMutations(): void {\n    if (MutationObserver) {\n      if (this.mutationObserver) {\n        this.mutationObserver.disconnect();\n        this.mutationObserver = null;\n      }\n    } else {\n      if (this.dropdownElement !== null) {\n        this.dropdownElement.removeEventListener(\n          'DOMNodeInserted',\n          this.repositionInZone\n        );\n        this.dropdownElement.removeEventListener(\n          'DOMNodeRemoved',\n          this.repositionInZone\n        );\n      }\n    }\n  }\n\n  private addGlobalEvents(): void {\n    window.addEventListener('scroll', this.repositionInZone);\n    window.addEventListener('resize', this.repositionInZone);\n    window.addEventListener('orientationchange', this.repositionInZone);\n  }\n\n  private removeGlobalEvents(): void {\n    window.removeEventListener('scroll', this.repositionInZone);\n    window.removeEventListener('resize', this.repositionInZone);\n    window.removeEventListener('orientationchange', this.repositionInZone);\n  }\n\n  private touchStartHandler = (e: Event) => {\n    this.document.body.addEventListener(\n      'touchmove',\n      this.touchMoveHandler,\n      true\n    );\n  };\n\n  private touchMoveHandler = (e: Event) => {\n    this.hasMoved = true;\n    this.document.body.removeEventListener(\n      'touchmove',\n      this.touchMoveHandler,\n      true\n    );\n  };\n\n  private teardownEvents() {\n    this.removeGlobalEvents();\n    this.stopObservingDomMutations();\n    this.document.body.removeEventListener(\n      'mousedown',\n      this.handleRootMouseDown,\n      true\n    );\n\n    if (this.isTouchDevice) {\n      this.document.body.removeEventListener(\n        'touchstart',\n        this.touchStartHandler,\n        true\n      );\n      this.document.body.removeEventListener(\n        'touchend',\n        this.handleRootMouseDown,\n        true\n      );\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NgWormholeModule } from 'ng-wormhole';\n\nimport { AngularDropdownDirective } from './angular-dropdown.directive';\nimport { AngularDropdownContentComponent } from './angular-dropdown-content.component';\nimport { AngularDropdownControlDirective } from './angular-dropdown-control.directive';\n\n@NgModule({\n  imports: [CommonModule, NgWormholeModule],\n  declarations: [\n    AngularDropdownDirective,\n    AngularDropdownControlDirective,\n    AngularDropdownContentComponent\n  ],\n  exports: [\n    AngularDropdownDirective,\n    AngularDropdownControlDirective,\n    AngularDropdownContentComponent\n  ]\n})\nexport class AngularDropdownModule {}\n"],"names":["Directive","Host","Inject","forwardRef","ElementRef","HostListener","BehaviorSubject","skip","filter","of","Observable","first","DOCUMENT","Attribute","Input","ContentChild","Output","Subject","takeUntil","Component","NgZone","NgModule","CommonModule","NgWormholeModule"],"mappings":"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"}
